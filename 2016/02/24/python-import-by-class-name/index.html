<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/0.32afeb9d11b209d32508.css">code[class*=language-],pre[class*=language-]{-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><style data-href="/component---src-templates-blog-post-js.403be7287e611896e529.css">.contents a{border-bottom:3px solid #e0d6eb;color:#3a3a3a;text-decoration:none}.contents a:active,.contents a:hover:not(.gatsby-resp-image-link){background-color:#e0d6eb;outline-width:0;text-shadow:none}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{background:#dfdfdf;border-radius:0;color:#222;font-weight:600;padding:3px}</style><meta name="generator" content="Gatsby 2.0.0"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><title data-react-helmet="true">[python] 클래스 이름을 사용한 동적 모듈 import | bono&#x27;s blog</title><meta data-react-helmet="true" name="description" content="파이썬에서 모듈을 import 할때, 보통 파일 최상단(but, 메서드 내에서 지역적으로 import…"/><script data-react-helmet="true" async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-react-helmet="true">(adsbygoogle = window.adsbygoogle || []).push({
                google_ad_client: "ca-pub-4588610260101909",
                enable_page_level_ads: true
              });</script><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:93.75%/1.8 'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}ul{margin-left:1.8rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.8rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;font-size:0.85rem;line-height:1.8rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;font-size:1rem;line-height:1.8rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}blockquote{margin-left:1.8rem;margin-right:1.8rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.8rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.8rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.8rem;margin-bottom:calc(1.8rem / 2);margin-top:calc(1.8rem / 2);}li > ul{margin-left:1.8rem;margin-bottom:calc(1.8rem / 2);margin-top:calc(1.8rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.8rem / 2);}code{font-size:0.85rem;line-height:1.8rem;}kbd{font-size:0.85rem;line-height:1.8rem;}samp{font-size:0.85rem;line-height:1.8rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.2rem;padding-right:1.2rem;padding-top:0.9rem;padding-bottom:calc(0.9rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-c5022448c1c39021d1b8.js"/><link as="script" rel="preload" href="/0-aa27de097d9a445f0702.js"/><link as="script" rel="preload" href="/app-b88f5eeafcf8768c1054.js"/><link as="script" rel="preload" href="/webpack-runtime-3325d108da7deef37809.js"/><link rel="preload" href="/static/d/425/path---2016-02-24-python-import-by-class-name-16-a-676-BBeP0osn7wUGeXvS5aea3rzwY.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><div style="height:50px;widht:100%;border-bottom:1px solid #eee;padding:10px"><div style="display:flex;width:100%;margin-bottom:2.7rem"><span style="font-size:1.18921rem;line-height:1.8rem;flex:1 0 auto;color:#bbb;margin-left:20px"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">bono&#x27;s blog</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/programming">개발</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/essay">일기</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/review">책리뷰</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">태그</a></span></div></div><div class="contents" style="margin-left:auto;margin-right:auto;max-width:43.2rem;padding:2.7rem 1.35rem"><h3 style="line-height:1.98rem">[python] 클래스 이름을 사용한 동적 모듈 import</h3><p style="font-size:0.87055rem;line-height:1.8rem;display:block;margin-bottom:5.4rem;margin-top:-1.8rem;color:#bbb">February 24, 2016</p><div><p>파이썬에서 모듈을 import 할때, 보통 파일 최상단(but, 메서드 내에서 지역적으로 import 가능)에 정의해서 쓰곤 합니다.
그런데 최근에 작업하면서 여러 클래스를 하나의 메서드에서 처리하면 좋겠다는 부분이 생겼지요.
그래서 생각한 끝에 클래스 이름만으로 동적으로 import 하는 방법이 있지 않을까하는 궁금증이 생겼습니다.</p>
<blockquote>
<p>아마도, 파이썬이라면 가능하다. 아마 누군가 똑같은 고민을 했을 것이다</p>
</blockquote>
<p>라는 생각이 들어 한번 찾아 보았습니다.</p>
<p>검색결과, 역시나,,,, 파이썬,,,,
동일한 조건의 답을 찾는데 꽤 시간이 걸렸지만 결국에는 딱 맞는 방법을 찾아냈습니다.
현재 조건을 바탕으로 동적으로 import 하는 방법은 아래와 같습니다.</p>
<h3>조건</h3>
<blockquote>
<p>파일 A, B 가 있고 c 라는 클래스의 이름으로 B 에서 import 해야함
파일 A 에서 B 의 함수를 호출함, 이때 파라미터로 c 클래스의 이름을 전달
파일 A 에는 c 클래스를 import 하고 있음</p>
</blockquote>
<h3>file A</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">from</span> package<span class="token punctuation">.</span>temp <span class="token keyword">import</span> TempClass
<span class="token keyword">from</span> package <span class="token keyword">import</span> b

<span class="token keyword">def</span> <span class="token function">a_function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    module_name <span class="token operator">=</span> TempClass<span class="token punctuation">.</span>__module__       <span class="token comment"># 클래스가 정의된 모듈의 이름(패스)을 불러온다.</span>
    class_name <span class="token operator">=</span> TempClass<span class="token punctuation">.</span>__name__           <span class="token comment"># 클래스 이름을 string으로 가져온다.</span>
    b_function<span class="token punctuation">(</span>module_name<span class="token punctuation">,</span> class_name<span class="token punctuation">)</span></code></pre></div>
<h3>file B</h3>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> importlib          <span class="token comment"># 모듈을 import 할 수 있는 모듈</span>

<span class="token keyword">def</span> <span class="token function">b_function</span><span class="token punctuation">(</span>module_name<span class="token punctuation">,</span> class_name<span class="token punctuation">)</span><span class="token punctuation">:</span>
    mod <span class="token operator">=</span> importlib<span class="token punctuation">.</span>import_module<span class="token punctuation">(</span>module_name<span class="token punctuation">)</span>          <span class="token comment"># 모듈을 import하고 모듈을 리턴</span>
    <span class="token keyword">class</span> <span class="token operator">=</span> <span class="token builtin">getattr</span><span class="token punctuation">(</span>mod<span class="token punctuation">,</span> class_name<span class="token punctuation">)</span>          <span class="token comment"># 모듈과 클래스 이름으로 클래스 정보를 가져온다.</span></code></pre></div>
<p>정리해보면,
우선 file A 에서 클래스를 import 합니다. 그리고 특수 기능을 가진 private method 인 <strong>module</strong>과 <strong>name</strong>을 이용하여 각각 클래스가 정의된 모듈의 이름과 클래스 이름을 text 로 가져옵니다. 두 개의 값을 b_function 의 파라미터로 전달한 뒤, file B 에서 두 파라미터를 이용하여 importlib 모듈을 통해 import 한뒤 클래스 정보를 가져오게 됩니다.</p></div><div class="commentsWrap"></div><hr style="margin-bottom:1.8rem"/><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0"><li><a rel="prev" href="/2016/02/02/django-setting-for-pycharm-community/">← <!-- -->[django] pycharm(파이참) community 버전으로 django(장고) 프로젝트 설정</a></li><li><a rel="next" href="/2016/02/28/python-about-set/">[python] set에 관한 두가지 사실<!-- --> →</a></li></ul></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-50048807-2', 'auto', {});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2016-02-24-python-import-by-class-name-16a","path":"/2016/02/24/python-import-by-class-name/"};window.dataPath="425/path---2016-02-24-python-import-by-class-name-16-a-676-BBeP0osn7wUGeXvS5aea3rzwY";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-b88f5eeafcf8768c1054.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-028b19aef758163ddf02.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.403be7287e611896e529.css","/component---src-templates-blog-post-js-c5022448c1c39021d1b8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-bd47a77552aee32af5f8.js"],"component---src-pages-essay-js":["/component---src-pages-essay-js.403be7287e611896e529.css","/component---src-pages-essay-js-7b005e1aa9cd4ac695ec.js"],"component---src-pages-index-js":["/component---src-pages-index-js.403be7287e611896e529.css","/component---src-pages-index-js-0f5a39108b7c28fcac3b.js"],"component---src-pages-programming-js":["/component---src-pages-programming-js.403be7287e611896e529.css","/component---src-pages-programming-js-f9fe13b057266cdbe334.js"],"component---src-pages-review-js":["/component---src-pages-review-js.403be7287e611896e529.css","/component---src-pages-review-js-be39e4e63d2b9fc76f29.js"]};/*]]>*/</script><script src="/webpack-runtime-3325d108da7deef37809.js" async=""></script><script src="/app-b88f5eeafcf8768c1054.js" async=""></script><script src="/0-aa27de097d9a445f0702.js" async=""></script><script src="/component---src-templates-blog-post-js-c5022448c1c39021d1b8.js" async=""></script></body></html>