<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/0.44124eed430487d1c6b7.css">code[class*=language-],pre[class*=language-]{-moz-tab-size:4;-ms-hyphens:none;-o-tab-size:4;-webkit-hyphens:none;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal;word-wrap:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><style data-href="/component---src-templates-blog-post-js.d611ab50419f42ed4e0f.css">.contents a:not(.gatsby-resp-image-link){border-bottom:3px solid #e0d6eb;color:#3a3a3a;text-decoration:none}.contents a:active:not(.gatsby-resp-image-link),.contents a:hover:not(.gatsby-resp-image-link){background-color:#e0d6eb;outline-width:0;text-shadow:none}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{background:#dfdfdf;border-radius:0;color:#222;font-weight:600;padding:3px}</style><meta name="generator" content="Gatsby 2.0.0"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="shortcut icon" href="/icons/icon-48x48.png"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><title data-react-helmet="true">Functional Programming in Scala week 3 | bono&#x27;s blog</title><meta data-react-helmet="true" name="description" content="3.1 Class Hierachies abstract class (추상 클래스) 추상 클래스는 abstract 키워드를 class 앞에 붙임으로써 정의할 수 있다. 추상 클래스는 구현체가 없는 추상함수를…"/><noscript data-react-helmet="true">Please enable JavaScript to view the{' '}
  <a href="https://disqus.com/?ref_noscript">
    comments powered by Disqus.
  </a></noscript><script data-react-helmet="true" async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-react-helmet="true">(adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-4588610260101909",
    enable_page_level_ads: true
  });</script><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:93.75%/1.8 'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;color:inherit;font-family:'Noto Sans Light','Malgun Gothic','NanumGothic',sans-serif;font-weight:bold;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}ul{margin-left:1.8rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.8rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;font-size:0.85rem;line-height:1.8rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;font-size:1rem;line-height:1.8rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}blockquote{margin-left:1.8rem;margin-right:1.8rem;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.8rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.8rem;}b{font-weight:bold;}strong{font-weight:bold;}dt{font-weight:bold;}th{font-weight:bold;}li{margin-bottom:calc(1.8rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.8rem;margin-bottom:calc(1.8rem / 2);margin-top:calc(1.8rem / 2);}li > ul{margin-left:1.8rem;margin-bottom:calc(1.8rem / 2);margin-top:calc(1.8rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.8rem / 2);}code{font-size:0.85rem;line-height:1.8rem;}kbd{font-size:0.85rem;line-height:1.8rem;}samp{font-size:0.85rem;line-height:1.8rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.2rem;padding-right:1.2rem;padding-top:0.9rem;padding-bottom:calc(0.9rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-1d94213a8454d0418ebe.js"/><link as="script" rel="preload" href="/0-806c403a1aae60a73514.js"/><link as="script" rel="preload" href="/app-1b7734746725d5aca08d.js"/><link as="script" rel="preload" href="/webpack-runtime-e1733a78f5be415c8943.js"/><link rel="preload" href="/static/d/146/path---2016-07-26-functional-programming-in-scala-week-3-d-4-f-dd0-gvCWkHj3tZxGXriwjscqjQLtNyU.json" as="fetch" crossOrigin="use-credentials"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div><div style="height:50px;widht:100%;border-bottom:1px solid #eee;padding:10px"><div style="display:flex;width:100%;margin-bottom:2.7rem"><span style="font-size:1.18921rem;line-height:1.8rem;flex:1 0 auto;color:#bbb;margin-left:20px"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">bono&#x27;s blog</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/programming">개발</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/essay">일기</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/review">책리뷰</a></span><span style="font-size:13px;flex:0 0 auto;margin-right:15px;margin-top:3px;font-weight:300;color:#777"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">태그</a></span></div></div><div class="contents" style="margin-left:auto;margin-right:auto;max-width:43.2rem;padding:2.7rem 1.35rem"><h3 style="line-height:1.98rem">Functional Programming in Scala week 3</h3><p style="font-size:0.87055rem;line-height:1.8rem;display:block;margin-bottom:5.4rem;margin-top:-1.8rem;color:#bbb">July 26, 2016</p><div><h2>3.1 Class Hierachies</h2>
<h3>abstract class (추상 클래스)</h3>
<p>추상 클래스는 abstract 키워드를 class 앞에 붙임으로써 정의할 수 있다. 추상 클래스는 구현체가 없는 추상함수를 1 개 이상 멤버로 가진다. 스칼라의 추상클래스는 자바의 그것과는 달리 new 로 선언할 수가 없다(자바의 추상클래스는 new 할당 가능, 대신 인터페이스는 new 할당이 불가함).</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">abstract</span> <span class="token keyword">class</span> IntSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> incl<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> IntSet
  <span class="token keyword">def</span> contains<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Empty <span class="token keyword">extends</span> IntSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> incl<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> IntSet <span class="token operator">=</span> <span class="token keyword">new</span> NonEmpty<span class="token punctuation">(</span>x<span class="token punctuation">,</span> <span class="token keyword">new</span> Empty<span class="token punctuation">,</span> <span class="token keyword">new</span> Empty<span class="token punctuation">)</span>
  <span class="token keyword">def</span> contains<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> toString <span class="token operator">=</span> <span class="token string">"."</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> NonEmpty<span class="token punctuation">(</span>elem<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> left<span class="token operator">:</span> IntSet<span class="token punctuation">,</span> right<span class="token operator">:</span> IntSet<span class="token punctuation">)</span> <span class="token keyword">extends</span> IntSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> incl<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> IntSet <span class="token operator">=</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> elem<span class="token punctuation">)</span> <span class="token keyword">new</span> NonEmpty<span class="token punctuation">(</span>elem<span class="token punctuation">,</span> left incl x<span class="token punctuation">,</span> right<span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> elem<span class="token punctuation">)</span> <span class="token keyword">new</span> NonEmpty<span class="token punctuation">(</span>elem<span class="token punctuation">,</span> left<span class="token punctuation">,</span> right incl x<span class="token punctuation">)</span>
    <span class="token keyword">else</span> <span class="token keyword">this</span>

  <span class="token keyword">def</span> contains<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Boolean</span> <span class="token operator">=</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">&lt;</span> elem<span class="token punctuation">)</span> left contains x
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>x <span class="token operator">></span> elem<span class="token punctuation">)</span> right contains x
    <span class="token keyword">else</span> <span class="token boolean">true</span>

  <span class="token keyword">override</span> <span class="token keyword">def</span> toString <span class="token operator">=</span> <span class="token string">"{"</span> <span class="token operator">+</span> left <span class="token operator">+</span> elem <span class="token operator">+</span> right <span class="token operator">+</span> <span class="token string">"}"</span>
<span class="token punctuation">}</span>

<span class="token keyword">val</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> NonEmpty<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">new</span> Empty<span class="token punctuation">,</span> <span class="token keyword">new</span> Empty<span class="token punctuation">)</span>
<span class="token comment">// t1: NonEmpty = {.3.}</span>
<span class="token keyword">val</span> t2 <span class="token operator">=</span> t1 incl <span class="token number">4</span>
<span class="token comment">//t1: NonEmpty = {.3.}</span></code></pre></div>
<p>위에서 IntSet 은 Empty 와 NonEmpty 클래스의 base class 이다. 구현체가 없는 incl 메소드와 contains 메소드는 각각 Empty 와 NonEmpty 클래스에서 구현하게 된다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">abstract</span> <span class="token keyword">class</span> Base <span class="token punctuation">{</span>
  <span class="token keyword">def</span> foo <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token keyword">def</span> bar<span class="token operator">:</span> <span class="token builtin">Int</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Sub <span class="token keyword">extends</span> Base <span class="token punctuation">{</span>
  <span class="token keyword">override</span> <span class="token keyword">def</span> foo <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token keyword">def</span> bar <span class="token operator">=</span> <span class="token number">3</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Base 클래스의 foo 메서드는 구현체가 있고 bar 메서드는 구현체가 없다. 구현체가 없는 bar 메서드 같은 경우에는 Sub 클래스에서 바로 구현해주면 되지만, 구현체가 없는 foo 메서드는 반드시 메서드 앞에 override 키워드를 붙여서 재정의 해야한다.(참고로 bar 메서드 앞에 override 키워드를 붙이는 것은 optional)
자바같은 경우 메소드 오버라이드 할때는 별도의 modifier 를 지정해주지 않는다. scala 에서 이렇게 하는 이유는 override 키워드가 없는 경우에는 실제로 어떤 메서드가 오버라이드되는지 모르기 때문에 잘못된 오버라이드로 인해 Base 클래스의 메서드가 영향을 받을 수도 있기 때문이다.</p>
<h3>object</h3>
<p>여러개의 instance 를 만들 필요 없는 클래스 같은 경우에는 간단히 object 를 이용한다. object 정의는 class 정의와 동일하지만 new 키워드로 여러개의 instance 를 만들 수 없고 단지 하나의 object 로 작동한다(singleton object).
오직 Empty 클래스에만 object 를 쓸 수 있는데, 그 이유는 NonEmpty 클래스는 몇개의 파라미터를 가지고 있다. object 는 value 라 했으므로, object 가 정의됨과 동시에 모두 평가되어야하므로 파라미터로 인한 값의 변화를 취할수 없다.
evaluation 측면에서 보자면, 위에서도 얘기 했듯이 object 자체는 이미 value 기 때문에 아래와 같이 Empty 로 바뀐 부분이 별도의 evalutaion 과정이 불필요하다.</p>
<h3>exercise - union 함수 구현</h3>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">abstract</span> <span class="token keyword">class</span> IntSet <span class="token punctuation">{</span>
  <span class="token keyword">def</span> incl<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> IntSet
  <span class="token keyword">def</span> contains<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Boolean</span>
  <span class="token keyword">def</span> union<span class="token punctuation">(</span>other<span class="token operator">:</span> IntSet<span class="token punctuation">)</span><span class="token operator">:</span> IntSet
<span class="token punctuation">}</span>

<span class="token keyword">object</span> Empty <span class="token keyword">extends</span> IntSet <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">def</span> union<span class="token punctuation">(</span>other<span class="token operator">:</span> IntSet<span class="token punctuation">)</span> <span class="token operator">=</span> other
<span class="token punctuation">}</span>

<span class="token keyword">class</span> NonEmpty<span class="token punctuation">(</span>elem<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> left<span class="token operator">:</span> IntSet<span class="token punctuation">,</span> right<span class="token operator">:</span> IntSet<span class="token punctuation">)</span> <span class="token keyword">extends</span> IntSet <span class="token punctuation">{</span>
  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
  <span class="token keyword">def</span> union<span class="token punctuation">(</span>other<span class="token operator">:</span> IntSet<span class="token punctuation">)</span> <span class="token operator">=</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span>left union right<span class="token punctuation">)</span> union other<span class="token punctuation">)</span> incl elem
<span class="token punctuation">}</span></code></pre></div>
<p>으아… 어렵다
대략 짐작해보자면, (left union right) 부분이 실행되면 left 가 현재 node 가 되고 right 가 other 가 된다. 계속해서 깊게 내려가다 보면, 언젠가 leaf node 가 나오게 되는데 leaf node 의 left 와 right 는 모두 Empty 이므로 결국 incl elem 에 의해 자기자신이 리턴된다. 그리고 한칸씩 올라오면서 left 의 elem 을 떼다가 right 트리에 include 를 시도하는 과정을 거친다. 그 과정이 계속되면, 결국은 하나의 binary tree 가 만들어진다.</p>
<h3>동적 바인딩</h3>
<p>메소드를 포함하는 object 타입은 런타임에 메소드가 실행된다.</p>
<h2>3.2 How Classes Are Organized</h2>
<h3>Package</h3>
<p>자바의 패키지 지정 방식과 같다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">package</span> progfun<span class="token punctuation">.</span>examples

<span class="token keyword">object</span> Hello <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span></code></pre></div>
<p>위와 같은 패키지와 object 가 있다면, progfun.examples.Hello 와 같은 full qualified name 으로 Hello 오브젝트에 접근 가능하다</p>
<h3>import</h3>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">import</span> week3<span class="token punctuation">.</span>Rational           <span class="token comment">// imports just Rational</span>
<span class="token keyword">import</span> week3<span class="token punctuation">.</span><span class="token punctuation">{</span>Rational<span class="token punctuation">,</span> Hello<span class="token punctuation">}</span>  <span class="token comment">// imports both Rational and Hello</span>
<span class="token keyword">import</span> week3<span class="token punctuation">.</span>_                  <span class="token comment">// import everything in package week3</span></code></pre></div>
<p>import 하는 방법은 자바와 거의 비슷한데 몇가지 다른점이 있다면, 첫째로는 한줄에 여러개의 class or object 를 호출하기 위해서 중괄호를 사용하는 방법이 있다. 그리고 특정 패키지의 모든 class 와 object 를 가져오기 위해 ’_‘를 이용할 수 있다.</p>
<p>스칼라 프로그램에서 자동으로 import 되는 패키지 또는 obejct
All members of package scala
All members of package java.lang
All members of the singleton object scala.Predef</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala">require       scala<span class="token punctuation">.</span>Predef<span class="token punctuation">.</span>require
assert        scala<span class="token punctuation">.</span>Predef<span class="token punctuation">.</span>assert</code></pre></div>
<h3>Traits</h3>
<p>스칼라도 자바처럼 상속을 하나의 클래스에서만 받을 수 있다. 그렇기 때문에 자바와 동일하게 여러개의 슈퍼타입이 필요한 경우 traits 키워드를 이용하여 구현할 수 있다. 참고로 trait 키워드는 abstract class 와 동일하다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">trait</span> Planar <span class="token punctuation">{</span>
  <span class="token keyword">def</span> height<span class="token operator">:</span> <span class="token builtin">Int</span>
  <span class="token keyword">def</span> width<span class="token operator">:</span> <span class="token builtin">Int</span>
  <span class="token keyword">def</span> surface <span class="token operator">=</span> height  width
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Square <span class="token keyword">extends</span> Shape <span class="token keyword">with</span> Planar <span class="token keyword">with</span> Movable <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre></div>
<p>클래스와 오브젝트 traits 셋다 traits 를 상속받을 수 있다. 그리고 interface 처럼 하나의 클래스가 여러개의 traits 상속이 가능하다. traits 가 자바의 interface 와 비슷해보이지만 field 를 가질 수 있는 점과, 실제 구현 메서드를 가질 수 있는 점에서 더 강력하다 할 수 있다. 자바에도 추상클래스(abstract class)가 있지만, 추상클래스는 말그대로 클래스이기 때문에 인터페이스처럼 여러개를 구현하지는 못한다. 그렇기 때문에 스칼라의 trait 가 좀 더 유연하게 사용될 수 있다. 대신 traits 는 파라미터를 가질 수 없다는 단점이 있다.</p>
<h3>스칼라 타입 클래스 구조 (Scala’s Class Hierarchy)</h3>
<p><img src="http://docs.scala-lang.org/resources/images/classhierarchy.img_assist_custom.png" alt="스칼라 타입 클래스 구조"></p>
<p>출처 : <a href="http://docs.scala-lang.org/tutorials/tour/unified-types.html">http://docs.scala-lang.org/tutorials/tour/unified-types.html</a></p>
<h4>Any</h4>
<ul>
<li>모든 타입의 가장 상위 타입, ’==’, ’!=‘,</li>
<li>‘equals’, ‘hashCode’, ‘toString’</li>
</ul>
<h4>AnyRef</h4>
<ul>
<li>Any 클래스를 상속받는다.</li>
<li>모든 레퍼런스 타입(ex. List, String)의 기본 타입이다.</li>
<li>java.lang.Object 의 별칭이다.</li>
</ul>
<h4>AnyVal</h4>
<ul>
<li>Any 클래스를 상속받는다.</li>
<li>모든 primitive types(Int, Float, Char 등)의 베이스 타입이다</li>
</ul>
<h4>Scala.Nothing</h4>
<ul>
<li>모든 다른 AnyVal 타입의 subType 이다.</li>
<li>값을 가지지 않는다.</li>
<li>함수가 비정상적으로 종료되거나 예외가 발생할 경우 Nothing 을 리턴할 수 있다.</li>
<li>비어있는 collection 을 요소 타입으로서 존재 (ex. Set[Nothing])</li>
</ul>
<h3>Null</h3>
<p>The type of null is Null, null 의 타입은 Null 이라는 말
모든 다른 AnyRef 타입의 subType 이다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">val</span> x <span class="token operator">=</span> <span class="token keyword">null</span>          <span class="token comment">// x: Null</span>
<span class="token keyword">val</span> y<span class="token operator">:</span> <span class="token builtin">String</span> <span class="token operator">=</span> <span class="token keyword">null</span>  <span class="token comment">// y: String</span>
<span class="token keyword">val</span> z<span class="token operator">:</span> <span class="token builtin">Int</span> <span class="token operator">=</span> <span class="token keyword">null</span>     <span class="token comment">// error: type mismatch, 레퍼런스 타입만 적용</span></code></pre></div>
<h2>3.3 Polymorphism</h2>
<p>아래 두 Cons 클래스는 동일한 표현이다.
클래스 파라미터에 value 를 사용하는 것은, implementaion 해야할 함수를 파라미터에 직접 구현하는 것과 같다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">class</span> Cons<span class="token punctuation">(</span><span class="token keyword">val</span> head<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> <span class="token keyword">val</span> tail<span class="token operator">:</span> IntList<span class="token punctuation">)</span> <span class="token keyword">extends</span> IntList <span class="token punctuation">{</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">}</span>

<span class="token comment">// 즉, _head, _tail 은 쓰지 않는 이름</span>
<span class="token keyword">class</span> Cons<span class="token punctuation">(</span>_head<span class="token operator">:</span> <span class="token builtin">Int</span><span class="token punctuation">,</span> _tail<span class="token operator">:</span> IntList<span class="token punctuation">)</span> <span class="token keyword">extends</span> IntList <span class="token punctuation">{</span>
  <span class="token keyword">val</span> head <span class="token operator">=</span> _head
  <span class="token keyword">val</span> tail <span class="token operator">=</span> _tail
<span class="token punctuation">}</span></code></pre></div>
<p>Cons 클래스와 List trait 를 generic 하게 구현한다</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">trait</span> List<span class="token punctuation">[</span>T<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> isEmpty<span class="token operator">:</span> <span class="token builtin">Boolean</span>
  <span class="token keyword">def</span> head<span class="token operator">:</span> T
  <span class="token keyword">def</span> tail<span class="token operator">:</span> List<span class="token punctuation">[</span>T<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Cons<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token keyword">val</span> head<span class="token operator">:</span> T<span class="token punctuation">,</span> <span class="token keyword">val</span> tail<span class="token operator">:</span> List<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">extends</span> List<span class="token punctuation">[</span>T<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> isEmpty <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> Nil<span class="token punctuation">[</span>T<span class="token punctuation">]</span> <span class="token keyword">extends</span> List<span class="token punctuation">[</span>T<span class="token punctuation">]</span> <span class="token punctuation">{</span>
  <span class="token keyword">def</span> isEmpty<span class="token operator">:</span> <span class="token builtin">Boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token keyword">def</span> head<span class="token operator">:</span> <span class="token builtin">Nothing</span> <span class="token operator">=</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> NoSuchElementException<span class="token punctuation">(</span><span class="token string">"Nil.head"</span><span class="token punctuation">)</span>
  <span class="token keyword">def</span> tail<span class="token operator">:</span> <span class="token builtin">Nothing</span> <span class="token operator">=</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> NoSuchElementException<span class="token punctuation">(</span><span class="token string">"Nil.tail"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre></div>
<p>함수도 제네릭하게 구현할 수 있다.</p>
<div class="gatsby-highlight" data-language="scala"><pre class="language-scala"><code class="language-scala"><span class="token keyword">def</span> singleton<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">(</span>elem<span class="token operator">:</span> T<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token keyword">new</span> Cons<span class="token punctuation">(</span>elem<span class="token punctuation">,</span> <span class="token keyword">new</span> Nil<span class="token punctuation">[</span>T<span class="token punctuation">]</span><span class="token punctuation">)</span>

singleton<span class="token punctuation">[</span><span class="token builtin">Int</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
singleton<span class="token punctuation">[</span><span class="token builtin">Boolean</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// 아래와 같이 호출가능</span>
singleton<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
singleton<span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>
<p>마지막 두 줄과 같이 호출 가능한 이유는 스칼라 컴파일러가 함수 call 이 발생하면 해당 함수의 파라미터 타입을 추론할 수 있기 때문이다.</p>
<h3>Polymorphism</h3>
<blockquote>
<p>Polymorphism means that a function type comes “in many forms”.
프로그램 측면에서 보면, 함수의 파라미터가 여러 타입으로 적용할 수 있고, 타입은 다양한 타입의 인스턴스를 가질 수 있다는 말이다.</p>
</blockquote>
<h3>다형성의 두가지 주요개념</h3>
<ul>
<li>subtyping : instance of a subclass can be passed to a base class</li>
<li>generics : instances of a function or class are created by type parameterization</li>
</ul></div><div id="disqus_thread"></div><script>var disqus_config = function () {
    this.page.url = undefined;  // Replace PAGE_URL with your page&#x27;s canonical URL variable
    this.page.identifier = Functional Programming in Scala week 3; // Replace PAGE_IDENTIFIER with your page&#x27;s unique identifier variable
    };
    (function() { // DON&#x27;T EDIT BELOW THIS LINE
    var d = document, s = d.createElement(&#x27;script&#x27;);
    s.src = &#x27;https://bonogithub.disqus.com/embed.js&#x27;;
    s.setAttribute(&#x27;data-timestamp&#x27;, +new Date());
    (d.head || d.body).appendChild(s);</script><noscript>Please enable JavaScript to view the<!-- --> <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><hr style="margin-bottom:1.8rem"/><ul style="display:flex;flex-wrap:wrap;justify-content:space-between;list-style:none;padding:0;margin:0;font-size:0.9rem"><li style="width:280px"><a rel="prev" href="/2016/07/26/functional-programming-in-scala-week2/">← <!-- -->Functional Programming in Scala week 2</a></li><li style="width:280px"><a rel="next" href="/2016/07/26/functional-programming-in-scala-week4/">Functional Programming in Scala week 4<!-- --> →</a></li></ul></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-50048807-2', 'auto', {});
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-blog-post-js","jsonName":"2016-07-26-functional-programming-in-scala-week-3-d4f","path":"/2016/07/26/functional-programming-in-scala-week3/"};window.dataPath="146/path---2016-07-26-functional-programming-in-scala-week-3-d-4-f-dd0-gvCWkHj3tZxGXriwjscqjQLtNyU";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-1b7734746725d5aca08d.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-028b19aef758163ddf02.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js.d611ab50419f42ed4e0f.css","/component---src-templates-blog-post-js-1d94213a8454d0418ebe.js"],"component---src-pages-404-js":["/component---src-pages-404-js-bd47a77552aee32af5f8.js"],"component---src-pages-essay-js":["/component---src-pages-essay-js.d611ab50419f42ed4e0f.css","/component---src-pages-essay-js-e1f13363834128968af9.js"],"component---src-pages-index-js":["/component---src-pages-index-js.d611ab50419f42ed4e0f.css","/component---src-pages-index-js-2a10a81c6da1e77ccbb5.js"],"component---src-pages-programming-js":["/component---src-pages-programming-js.d611ab50419f42ed4e0f.css","/component---src-pages-programming-js-1760f69307f389d03f6c.js"],"component---src-pages-review-js":["/component---src-pages-review-js.d611ab50419f42ed4e0f.css","/component---src-pages-review-js-809b75ca8b0c5fbe530b.js"]};/*]]>*/</script><script src="/webpack-runtime-e1733a78f5be415c8943.js" async=""></script><script src="/app-1b7734746725d5aca08d.js" async=""></script><script src="/0-806c403a1aae60a73514.js" async=""></script><script src="/component---src-templates-blog-post-js-1d94213a8454d0418ebe.js" async=""></script></body></html>