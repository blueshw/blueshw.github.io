<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content=""><meta name="keyword" content=""><link rel="shortcut icon" href="/img/favicon.ico"><title>[coursera] AngularJS week 4 - 보노의블로그 | Bono&#39;s Blog</title><link rel="canonical" href="http://blueshw.githup.io/2016/10/02/2016-10-02-frontend-javascript-framework-angularjs-week4/"><link rel="stylesheet" href="/css/bootstrap.min.css"><link rel="stylesheet" href="/css/hux-blog.css"><link rel="stylesheet" href="/css/highlight.css"><link href="https://cdn.staticfile.org/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"><!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]--><script></script></head><body ontouchstart=""><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class="container-fluid"><div class="navbar-header page-scroll"><button type="button" class="navbar-toggle"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand" href="/">보노의 블로그</a></div><div id="huxblog_navbar"><div class="navbar-collapse"><ul class="nav navbar-nav navbar-right"><li><a href="/">Home</a></li><li><a href="/about/">About</a></li><li><a href="/archives/">Archives</a></li><li><a href="/tags/">Tags</a></li></ul></div></div></div></nav><script>function handleMagic(e){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic)</script><style type="text/css">header.intro-header{background-image:url(/img/home-bg.jpg)}</style><header class="intro-header"><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class="post-heading"><div class="tags"><a class="tag" href="/tags/#coursera" title="coursera">coursera</a> <a class="tag" href="/tags/#angularjs" title="angularjs">angularjs</a> <a class="tag" href="/tags/#javascript" title="javascript">javascript</a></div><h1>[coursera] AngularJS week 4</h1><h2 class="subheading"></h2><span class="meta">Posted by bono on 2016-10-02</span></div></div></div></div></header><article><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container"><h2 id="Client-Server-Communication-and-Angular-Testing"><a href="#Client-Server-Communication-and-Angular-Testing" class="headerlink" title="Client-Server Communication and Angular Testing"></a>Client-Server Communication and Angular Testing</h2><h3 id="Networking-Essentials"><a href="#Networking-Essentials" class="headerlink" title="Networking Essentials"></a>Networking Essentials</h3><p>이번 챕터에서는 클라이언트 서버 구조에서 AngularJS가 어떻게 동작하는지 살펴볼것이다.<br>요즘 가장 많이 사용되는 Client-Server 관계는 HTTP프로토콜과 REST API를 이용한 백엔드(서버)와 브라우저(클라이언트)간의 통신으로 이뤄진다. 이전 강의까지 보았던 방식은 브라우저에 출력되는 데이터가 services.js 파일의 자바스크립트 오브젝트로 존재했었다. 하지만, Client-Server 구조에서는 거의 모든 데이터를 서버사이드에서 클라이언트 사이드로 제공해준다. HTTP와 REST API에 대한 내용은 자세히 다루지는 않겠다(강의 보세요).</p><p>HTTP Response는 클라이언트로 보낼 HTML 페이지나 특정 포맷으로 data를 가지는데, 주로 XML 또는 JSON을 많이 사용한다. 이 중에서 JSON(Javascript Object Notation)은 가장 많이 사용되는 데이터 포맷이다. 이름만 보면 자바스크립트에서만 사용될것 같지만, 모바일이나 웹서비스 등 일반적인 HTTP 통신에서 대부분 사용된다. XML이 잘 사용되지 않는 이유는 JSON에 비해서 데이터를 parsing 하는 과정이 복잡하기 때문이다.</p><p>JSON 데이터 구조를 간단히 살펴보자<br>자바스크립트 object와 구조가 비슷하다. name : value 구조로 이뤄지며, value 내에는 array, 스트링, 숫자, object 등의 데이터 타입 등이 들어갈 수 있다.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&#123;<span class="attr">"promotion"</span>:</div><div class="line">	[</div><div class="line">		&#123;</div><div class="line">			<span class="attr">"id"</span>: <span class="number">0</span>,</div><div class="line">			<span class="attr">"name"</span>: <span class="string">"weekend buffet"</span>,</div><div class="line">			<span class="attr">"image"</span>: <span class="string">"images/buffet.png"</span>,</div><div class="line">			<span class="attr">"label"</span>: <span class="string">"New"</span>,</div><div class="line">			<span class="attr">"price"</span>: <span class="string">"19.99"</span>,</div><div class="line">			<span class="attr">"description"</span>: <span class="string">"asdjfkljaskdlfjas..."</span></div><div class="line">		&#125;</div><div class="line">	]</div><div class="line">&#125;</div></pre></td></tr></table></figure><h3 id="Client-Server-Communication-using-http"><a href="#Client-Server-Communication-using-http" class="headerlink" title="Client-Server Communication using $http"></a>Client-Server Communication using $http</h3><h4 id="Angular-http"><a href="#Angular-http" class="headerlink" title="Angular $http"></a>Angular $http</h4><p>$http는 브라우저에서 서버와의 통신을 위한 가장 핵심적인 서비스로 HTTP protocol을 사용한다. 아마 내부적으로는 AJAX 통신을 할것이기 때문에 비동기로 처리될 것이다.</p><h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p>자바스크립트에서 Promise란 비동기 통신이 완료된 후에 상태에 따라 특정 콜백을 리턴해 줄 것이라는 일종의 약속 같은 것을 말한다. $http 서비스 역시 프로미스를 리턴한다. 패턴은 아래와 같다.</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$http(&#123;method: <span class="string">'GET'</span>, url:<span class="string">'/dishes'</span>&#125;)</div><div class="line">	.<span class="keyword">then</span>(<span class="function"><span class="keyword">function</span><span class="params">()</span></span> &#123; ... &#125;, <span class="function"><span class="keyword">function</span><span class="params">()</span></span> &#123; ... &#125;);</div></pre></td></tr></table></figure><p>then 뒤에는 두개의 function이 파라미터로 들어가 있다. 첫번째는 request가 성공했을 때 발생하는 함수이고, 두번째는 요청이 실패했을때 발생하는 함수이다. 보통 AJAX 통신을 사용할 때, ‘success’, ‘error’ 속성을 사용하는 것과 비슷하다.</p><h4 id="HTTP-Response"><a href="#HTTP-Response" class="headerlink" title="HTTP Response"></a>HTTP Response</h4><p>요청의 결과로 response라는 object가 서버로부터 넘어온다. 이때 reponse 객체에는 다음과 같은 속성들이 포함되어 있다.</p><ul><li>response.data : 메세지 바디를 포함하느 string / object</li><li>response.status : 상태 코드 (200, 400 등)</li><li>response.headers : 헤더정보</li><li>response.config : configuration object</li><li>response.statusText : response 상태 텍스트 값</li></ul><h4 id="ng-if-directive"><a href="#ng-if-directive" class="headerlink" title="ng-if directive"></a>ng-if directive</h4><p>html 코드를 작성할 때 해당 DOM을 보여줄지 말지를 결정하기 위해 ngIf directive를 사용할 수 있다. 사용법은 간단하다.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"col-xs-12"</span> ng-<span class="keyword">if</span>=<span class="string">"!showMenu"</span>&gt;</div><div class="line">	<span class="xml"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>&#123;&#123;message&#125;&#125;<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></div><div class="line">&lt;<span class="regexp">/div&gt;</span></div></pre></td></tr></table></figure><p>showMenu가 true면 ng-if는 false가 되므로 해당 message는 안보일것이고, showMenu가 false면 반대로 message가 나타날 것이다.</p><h3 id="Brief-Representational-State-Transfer-REST"><a href="#Brief-Representational-State-Transfer-REST" class="headerlink" title="Brief Representational State Transfer (REST)"></a>Brief Representational State Transfer (REST)</h3><p>본격적으로 서버와의 통신을 해보기 전에 가장 많이 사용하는 방식인 REST에 대해서 알아보자. 웹 서비스를 만들때 네트워크와 연결하는 방법에 대한 시스템은 보통 아래 두개 접근법이 가장 일반적이다.</p><ul><li><p>SOAP (Simple Object Access Protocol) : Uses WSDL(Web Service Description Language), 프레젠테이션 영역에 XML을 사용</p></li><li><p>REST (Representational State Transfer) : 가장 많이 사용됨, Use Web standards, Exchange of data using either XML or JSON, SOAP나 WSDL보다 훨씬 간단한다.</p></li></ul><p>REST는 WWW(World Wide Web)과 같이 분산 hypermedia systems을 위한 아키텍쳐 스타일 중 하나이며, 웹 페이지의 리소스에 어떻게 접근하고 어떻게 정의되고 어떻게 이동하는지에 대한 법칙을 모아놓은 시스템이다.</p><h4 id="REST의-기본-법칙"><a href="#REST의-기본-법칙" class="headerlink" title="REST의 기본 법칙"></a>REST의 기본 법칙</h4><ul><li>HTTP 메소드를 사용하며 (Use HTTP methods explicitly)</li><li>상태를 저장하지 않는다 (Be stateless)</li><li>리소스는 URI와 같이 디렉토리 스트럭쳐가 그대로 노출된다 (Expose directory structure-like URIs)</li><li>통신의 매개체로 XML, JSON 등이 사용된다.</li></ul><p>REST는 세가지 컨셉으로 표현할 수 있다. 특정 URI로 표현되는 <em>Nouns(Resources)</em>, GET or POST 등의 HTTP 메소드인 <em>Verbs</em>, XML or JSON 등으로 표현하는 <em>Representaions</em></p><h4 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h4><p>REST의 리소스는 다음과 같이 표기한다. 리소스에는 문서나 이미지, 리소스 컬렉션 등이다.</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">http:<span class="regexp">//</span>www.conFusion.food<span class="regexp">/dishes/</span>			<span class="comment"># Retrieve all dishses</span></div><div class="line">http:<span class="regexp">//</span>www.conFusion.food<span class="regexp">/dishes/</span><span class="number">123</span>		<span class="comment"># Retrieve information about the specific dish (id:123)</span></div><div class="line">http:<span class="regexp">//</span>www.conFusion.food<span class="regexp">/promotions/</span></div><div class="line">http:<span class="regexp">//</span>www.conFusion.food<span class="regexp">/leadership/</span></div><div class="line">http:<span class="regexp">//</span>www.conFusion.food<span class="regexp">/leadership/</span><span class="number">456</span></div></pre></td></tr></table></figure><h4 id="Verbs"><a href="#Verbs" class="headerlink" title="Verbs"></a>Verbs</h4><p>Verb에 해당하는 HTTP 메소드는 각각 다음과 같은 의미를 가진다.</p><ul><li>GET -&gt; READ</li><li>POST -&gt; CREATE</li><li>PUT -&gt; UPDATE</li><li>DELETE -&gt; DELETE</li></ul><p>GET 메소드는 클라이언트가 서버에게 어떤 리소스를 요청하는 메소드이다. 어떤 GET 메소드가 서버에 요청(Request)이 들어오면, 서버는 XML 또는 JSON 형태로 클라이언트(브라우저)에게 응답(Response)을 한다.</p><h4 id="Representaions"><a href="#Representaions" class="headerlink" title="Representaions"></a>Representaions</h4><p>표현을 위해 클라이언트에게 어떤 데이터를 보낼 것이냐 하는 것인데, 가장 많이 쓰이는 두가지 방식이 바로 JSON과 XML이다. 최근에는 JSON 타입이 정보 교환을 위한 standards로 여겨지고 있다.</p><h4 id="Stateless"><a href="#Stateless" class="headerlink" title="Stateless"></a>Stateless</h4><p>REST는 상태를 저장하지 않다. 매 요청바다 항상 새로운 요청이 발생하게 된다. 그렇기 때문에 클라이언트측에서 요청에 따라 상태가 변화하는 것을 트래킹하기 위해서는 클라이언트 자신이 요청 전의 상태를 기억하고 있어야 한다.</p><h3 id="Clint-Server-Communication-using-resource"><a href="#Clint-Server-Communication-using-resource" class="headerlink" title="Clint-Server Communication using $resource"></a>Clint-Server Communication using $resource</h3><h4 id="Angular-ngResource"><a href="#Angular-ngResource" class="headerlink" title="Angular ngResource"></a>Angular ngResource</h4><p>ngResource 모듈은 restful API 서버와 통신하기 위해 $http 보다 고수준의 추상화를 제공한다(흠…). angular core가 아니기 때문에 따로 설치해 줘야 한다.</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">bower </span><span class="keyword">install </span>angular-resource -S</div></pre></td></tr></table></figure><p>DI를 이용해서 ngResource를 사용할 수 있다.</p><figure class="highlight arduino"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.<span class="keyword">module</span>(<span class="string">'confusionApp'</span>, [<span class="string">'ui.router'</span>, <span class="string">'ngResource'</span>])</div></pre></td></tr></table></figure><h4 id="Angular-resource-Service"><a href="#Angular-resource-Service" class="headerlink" title="Angular $resource Service"></a>Angular $resource Service</h4><p>$http에 비해 $resource는 훨씬 편리하게 사용할 수 있다. 우선 사용 예시를 살펴보기 전에 $resource 서비스를 사용하기 위해서는 사용하고자하는 service나 controller에 DI로 추가한다.</p><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">.service(<span class="string">'menuFactory'</span>, [<span class="string">'$resouce'</span>, <span class="string">'baseURL'</span>, <span class="function"><span class="keyword">function</span><span class="params">($resource, baseURL)</span> </span>&#123;</div><div class="line">	</div><div class="line">	...</div><div class="line"></div><div class="line">	$scope.dishes = $resouce(baseURL + <span class="string">"dishes/:id"</span>, <span class="keyword">null</span>, &#123;<span class="string">'update'</span>:&#123;method:<span class="string">'PUT'</span>&#125;&#125;).query();</div><div class="line">	</div><div class="line">	<span class="keyword">var</span> dish = $resource(baseURL + <span class="string">"dishes/:id"</span>, <span class="keyword">null</span>, &#123;<span class="string">'update'</span>:&#123;method:<span class="string">'PUT'</span>&#125;&#125;).get(&#123;id:<span class="number">0</span>&#125;, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>&#123;</div><div class="line">			dish.name = <span class="string">"dovanut"</span>;</div><div class="line">			dish.$save();</div><div class="line">		&#125;)</div><div class="line">	...</div><div class="line"></div><div class="line">&#125;])</div></pre></td></tr></table></figure><p>$resource의 기본 action들은 다음과 있다.</p><blockquote><p>{‘get’:{method:’GET’},<br>‘save’:{method:’POST’},<br>‘query’:{method:’GET’, isArray:true},<br>‘remove’:{method:’DELETE’},<br>‘delete’:{method:’DELETE’}};</p></blockquote><p>action을 커스텀으로 만들 수도 있는데, 위의 예제에서 본 것 처럼 update라는 메서드를 HTTP PUT 메서드로 정의해 놓으면 update() 함수를 사용할 수 있다. 다음의 예제를 보자</p><figure class="highlight xquery"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$resource(baseURL+<span class="string">"dishes/:id"</span>, null, &#123;<span class="string">'update'</span>:&#123;method:<span class="string">'PUT'</span>&#125;&#125;).<span class="keyword">update</span>(&#123;id:$scope.dish.id&#125;,$scope.dish);</div></pre></td></tr></table></figure><h3 id="Angular-Testing"><a href="#Angular-Testing" class="headerlink" title="Angular Testing"></a>Angular Testing</h3><p>Angular 테스팅은 unit 테스트를 제공한다. unit 테스트란 각 부분의 독립된 로직을 테스트하는 기법을 말하는데, Angluar에서는 작성한 controller, filter, factory, service 등의 모듈을 개별적으로 검사할 수 있다. 그렇기 때문에 angular로 작성한 코드는 DOM과는 완전히 분리되어 테스트할 수가 있다.</p><h4 id="Jasmine"><a href="#Jasmine" class="headerlink" title="Jasmine"></a>Jasmine</h4><p>angularJS를 테스트하기위해 Behavior driven development 프레임웍인 Jasmine을 이용한다. 구체적으로 그룹 테스트를 위해 “describe” 함수를 이용하고, 개별테스트를 위해서 “it” 함수를 이용한다.</p><p>다음의 예를 보자</p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">describe('Controller<span class="symbol">:MenuController</span>', function() &#123;</div><div class="line">	it('should create <span class="string">"dishes"</span> with <span class="number">2</span> dishes fetched from xhr', function() &#123;</div><div class="line">		// showMenu가 true이길 기대함</div><div class="line">		expect(<span class="name">scope</span>.showMenu).toBeTruthy()<span class="comment">;</span></div><div class="line">		// dishes가 정의됨을 기대함</div><div class="line">		expect(<span class="name">scope</span>.dishes).toBeDefined()<span class="comment">;</span></div><div class="line">		// dishes의 개수가 <span class="number">2</span>개임을 기대함</div><div class="line">		expect(<span class="name">scope</span>.dishes.length).toBe(<span class="number">2</span>)<span class="comment">;</span></div><div class="line">	&#125;)<span class="comment">;</span></div><div class="line">&#125;)<span class="comment">;</span></div></pre></td></tr></table></figure><p>describe는 MenuController를 테스트 한다는것을 말한다. 두번째 it은 xhr로부터 dishes가 2 dishes가 fetched된 dishes가 만들어질 것이라는 걸 말하고 두번째 인자에 들어간 함수 내에서는 expect 함수로 각각의 조건이 만족하는지를 체크한다.</p><h4 id="Karma"><a href="#Karma" class="headerlink" title="Karma"></a>Karma</h4><p>카르마는 자바스크립트 기반 command line tool이다(NodeJS application). 카르마를 이용하면 Jasmine으로 테스트한 결과를 브라우저로 가져와 쉽게 확인할 수 있다.</p><h4 id="angular-mocks"><a href="#angular-mocks" class="headerlink" title="angular-mocks"></a>angular-mocks</h4><p>ngMock 모듈을 이용하면 테스트의 결과를 의존성을 가지는 다른 서비스나 컨트롤러에 미리 적용해 볼 수 있다. 한가지 예로 $httpBackend를 이용하면 서버에 XHR 리퀘스트를 테스트로 날려볼수도 있다.</p><h4 id="exercise"><a href="#exercise" class="headerlink" title="exercise"></a>exercise</h4><p>우선 필요한 모듈들을 install 한다. 글로벌로 설치하는 건 상관없지만 그 외에는 conFusion 폴더 내에서 설치하도록 하자.</p><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 자스민 코어 설치</span></div><div class="line">sudo npm <span class="keyword">install </span><span class="keyword">jasmine-core </span>--save-dev</div><div class="line"></div><div class="line"><span class="comment"># karma-jasmine 설치</span></div><div class="line">sudo npm <span class="keyword">install </span>karma-<span class="keyword">jasmine </span>--save-dev</div><div class="line"></div><div class="line"><span class="comment"># 카르마, 클라이언트 설치</span></div><div class="line">sudo npm <span class="keyword">install </span>karma --save-dev</div><div class="line">sudo npm <span class="keyword">install </span>karma-cli -g</div><div class="line">sudo npm <span class="keyword">install </span>karma-cli --save-dev</div><div class="line"></div><div class="line"><span class="comment"># 카르마를 통한 결과를 크롬에 보여주기 위한 모듈 설치</span></div><div class="line">sudo npm <span class="keyword">install </span>phantomjs karma-phantomjs-launcher karma-chrome-launcher --save-dev</div><div class="line"></div><div class="line"><span class="comment"># angular mocks 설치</span></div><div class="line"><span class="keyword">bower </span><span class="keyword">install </span>angular-mocks -S</div></pre></td></tr></table></figure><p>/conFusion/test 폴더를 생성하고 karma.conf.js 파일을 생성한다.</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line">module.exports = <span class="function"><span class="keyword">function</span><span class="params">(config)</span> &#123;</span></div><div class="line">	config.<span class="keyword">set</span>(&#123;</div><div class="line">		basePath: <span class="string">'../'</span>,</div><div class="line">		framework<span class="variable">s:</span> [<span class="string">'jasmine'</span>],</div><div class="line">		// <span class="keyword">list</span> of <span class="keyword">files</span>, 테스트하려는 파일 목록</div><div class="line">		<span class="keyword">file</span><span class="variable">s:</span> [</div><div class="line">			<span class="string">'bower_components/angular/angular.js'</span>,</div><div class="line">			<span class="string">'bower_components/angular-resource/angular-resource.js'</span>,</div><div class="line">			<span class="string">'bower_components/angular-ui-router/release/angular-ui-router.js'</span>,</div><div class="line">			<span class="string">'bower_components/angular-mocks/angular-mocks.js'</span>,</div><div class="line">			<span class="string">'app/scripts/*.js'</span>,</div><div class="line">			<span class="string">'test/unit/**/*.js'</span></div><div class="line">		],</div><div class="line">		// <span class="keyword">list</span> of <span class="keyword">files</span> <span class="keyword">to</span> exclude, 테스트 제외 목록</div><div class="line">		exclude: [</div><div class="line">			<span class="string">'test/protractor.conf.js'</span>, <span class="string">'test/e2e/*.js'</span></div><div class="line">		],</div><div class="line">		preprocessor<span class="variable">s:</span> &#123;</div><div class="line"></div><div class="line">		&#125;,</div><div class="line">		// test results reporter <span class="keyword">to</span> use</div><div class="line">		// possible value<span class="variable">s:</span> <span class="string">'dots'</span>, <span class="string">'progress'</span></div><div class="line">		reporter<span class="variable">s:</span> [<span class="string">'progress'</span>],</div><div class="line">		por<span class="variable">t:</span> <span class="number">9876</span>,</div><div class="line">		// colors in the output (reporters <span class="built_in">and</span> logs)</div><div class="line">		color<span class="variable">s:</span> true,</div><div class="line">		// config.LOG_DISALBE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG</div><div class="line">		logLeve<span class="variable">l:</span> config.LOG_INFO,</div><div class="line">		// 파일 변경시 auto reload</div><div class="line">		autoWatch: true,</div><div class="line">		// browser, available browser launchers</div><div class="line">		browser<span class="variable">s:</span> [<span class="string">'Chrome'</span>, <span class="string">'PhantomJS'</span>, <span class="string">'PhantomJS_custom'</span>],</div><div class="line">		customLauncher<span class="variable">s:</span> &#123;</div><div class="line">			<span class="string">'PhantomJS_custom'</span>: &#123;</div><div class="line">				base: <span class="string">'PhantomJS'</span>,</div><div class="line">				option<span class="variable">s:</span> &#123;</div><div class="line">					windowName: <span class="string">'my-window'</span>,</div><div class="line">					setting<span class="variable">s:</span> &#123;</div><div class="line">						webSecurityEnabled: false</div><div class="line">					&#125;,</div><div class="line">				&#125;,</div><div class="line">				flag<span class="variable">s:</span> [<span class="string">'--load-images=true'</span>],</div><div class="line">				debu<span class="variable">g:</span> true</div><div class="line">			&#125;</div><div class="line">		&#125;,</div><div class="line">		phantomjsLauncher: &#123;</div><div class="line">			// ResourceError 발생시 phantomjs 종료, 비정상 종료시 유용함</div><div class="line">			exitOnResourceError: true</div><div class="line">		&#125;,</div><div class="line">		// Continuous Integration <span class="keyword">mode</span></div><div class="line">		// <span class="keyword">if</span> true, Karma captures browsers, runs the tests <span class="built_in">and</span> exits</div><div class="line">		singleRun: false,</div><div class="line">		// Concurrency level</div><div class="line">		concurrency: Infinity</div><div class="line"></div><div class="line">	&#125;)</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>conFusion/test/unit/menucontroller.js 파일을 생성해서 unit 테스트를 실행한다.</p><hr><ul class="pager"><li class="previous"><a href="/2016/11/16/2016-11-16-ionic-install/" data-toggle="tooltip" data-placement="top" title="[ionic] ionic 개발에 필요한 것들">&larr; Previous Post</a></li><li class="next"><a href="/2016/09/05/2016-09-05-frontend-javascript-framework-angularjs-week3-2/" data-toggle="tooltip" data-placement="top" title="[coursera] AngularJS week 3-2">Next Post &rarr;</a></li></ul><div class="comment"><div id="disqus_thread" class="disqus-thread"></div></div></div><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 sidebar-container"><section><h5><a href="/tags/">FEATURED TAGS</a></h5><div class="tags"><a class="tag" href="/tags/#coursera" title="coursera">coursera</a> <a class="tag" href="/tags/#angularjs" title="angularjs">angularjs</a> <a class="tag" href="/tags/#javascript" title="javascript">javascript</a></div></section></div></div></div></article><script type="text/javascript">var disqus_shortname="bonogithub",disqus_identifier="http://blueshw.githup.io/2016/10/02/2016-10-02-frontend-javascript-framework-angularjs-week4/",disqus_url="http://blueshw.githup.io/2016/10/02/2016-10-02-frontend-javascript-framework-angularjs-week4/";!function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="//"+disqus_shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}()</script><script>function async(e,n){var t=document,a="script",r=t.createElement(a),c=t.getElementsByTagName(a)[0];r.src=e,n&&r.addEventListener("load",function(e){n(null,e)},!1),c.parentNode.insertBefore(r,c)}</script><script>async("https://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){anchors.options={visible:"always",placement:"right",icon:"#"},anchors.add().remove(".intro-header h1").remove(".subheading").remove(".sidebar-container h5")})</script><style>@media all and (min-width:800px){.anchorjs-link{position:absolute;left:-.75em;font-size:1.1em;margin-top:-.1em}}</style><footer><div class="container"><div class="row"><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a target="_blank" href="https://www.facebook.com/blueshw"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-facebook fa-stack-1x fa-inverse"></i></span></a></li><li><a target="_blank" href="https://github.com/blueshw"><span class="fa-stack fa-lg"><i class="fa fa-circle fa-stack-2x"></i> <i class="fa fa-github fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; 보노의 블로그 2017<br>Theme by <a href="http://huangxuan.me">Hux</a> <span style="display:inline-block;margin:0 5px"><i class="fa fa-heart"></i> </span>Ported by <a href="http://blog.kaijun.rocks">Kaijun</a> |<iframe style="margin-left:2px;margin-bottom:-5px" frameborder="0" scrolling="0" width="91px" height="20px" src="https://ghbtns.com/github-btn.html?user=kaijun&repo=hexo-theme-huxblog&type=star&count=true"></iframe></p></div></div></div></footer><script src="/js/jquery.min.js"></script><script src="/js/bootstrap.min.js"></script><script src="/js/hux-blog.min.js"></script><script>function async(e,n){var t=document,a="script",r=t.createElement(a),c=t.getElementsByTagName(a)[0];r.src=e,n&&r.addEventListener("load",function(e){n(null,e)},!1),c.parentNode.insertBefore(r,c)}</script><script>0!==$("#tag_cloud").length&&async("http://blueshw.githup.io/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>async("https://cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js",function(){var c=document.querySelector("nav");c&&FastClick.attach(c)})</script><script>var _gaId="UA-50048807-2",_gaDomain="blueshw.github.io";!function(e,a,n,t,g,o,c){e.GoogleAnalyticsObject=g,e[g]=e[g]||function(){(e[g].q=e[g].q||[]).push(arguments)},e[g].l=1*new Date,o=a.createElement(n),c=a.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",c.parentNode.insertBefore(o,c)}(window,document,"script",0,"ga"),ga("create",_gaId,_gaDomain),ga("send","pageview")</script><img src="http://blueshw.githup.io/img/icon_wechat.png" width="0" height="0"></body></html>