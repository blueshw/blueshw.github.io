<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.9d9ade1e07b38c372637.css">abbr,address,article,aside,audio,b,blockquote,body,canvas,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,header,hgroup,html,i,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,time,ul,var,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}iframe,img{width:100%}iframe{margin:20px 0}.adsbygoogle iframe{margin:0}nav ul{list-style:none}blockquote,q{quotes:none}blockquote>p>a{display:inline-block}h1,h2,h3,h4,h5,h6{margin-top:.5em;margin-bottom:.5em;padding-top:1em}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{text-decoration:none}ins,mark{background-color:#fff;color:#000}mark{font-style:italic;font-weight:700}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}p{margin-bottom:1.8rem;word-break:break-all}code.language-text{font-size:14px!important}table{margin:40px auto;width:80%;border-spacing:0;border-collapse:collapse}table,table tr{padding:0;border-top:1px solid #ccc}table tr{background-color:#fff;margin:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700}table tr td,table tr th{border-bottom:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td :first-child,table tr th :first-child{margin-top:0}table tr td:not(:first-child),table tr th:not(:first-child){border-left:1px solid #ccc}table tr td :last-child,table tr th :last-child{margin-bottom:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.contents a{-webkit-transition:background .5s;transition:background .5s}.contents a:not(.gatsby-resp-image-link){color:#3a3a3a;text-decoration:none;border-bottom:3px solid #d7c3ee}.contents a:active:not(.gatsby-resp-image-link),.contents a:hover:not(.gatsby-resp-image-link){outline-width:0;text-shadow:none;background-color:#e0d6eb}.contents ul{margin-left:15px;word-break:break-all}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d;margin-top:.1rem;margin-bottom:1.8rem}:not(pre)>code[class*=language-]{background:#dfdfdf;color:#222;padding:3px 5px;font-weight:600}blockquote{margin:20px 15px 20px 0;padding-left:35px;border-left:5px solid #e5e5e5}.frame-wrap{overflow:auto;width:100%}.container-404,.frame-wrap{-webkit-overflow-scrolling:touch}.container-404{font-family:Arial;height:500vw;overflow-x:hidden;display:flex;justify-content:center;align-items:center;position:fixed;left:0;top:0;width:100vw;height:100vh;overflow:hidden;opacity:0;-webkit-transition:opacity 1s;transition:opacity 1s}.container-404>span{padding:1.5vh;font-size:25vh;font-weight:700;color:#333;cursor:default}.container-404>.home{position:fixed;right:3vw;bottom:3vw;margin:0;padding:0;color:#999;cursor:pointer;text-decoration:underline;font-size:13px}</style><meta name="generator" content="Gatsby 2.17.0"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">리액트(react)에서 이벤트 버블링(bubbling)과 캡쳐링(capturing) 사용하기 | bono&#x27;s blog</title><meta data-react-helmet="true" name="google-site-verification" content="R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA"/><meta data-react-helmet="true" name="naver-site-verification" content="23eddf7267bb527337927baff11fc26157637f30"/><meta data-react-helmet="true" name="description" content="이벤트 버블링 / 캡쳐링 특정 DOM 노드에서 발생한 이벤트는 부모 또는 자식으로 전파됩니다. 자기자신(currentTarget)에서 부모로 전파되면 이벤트 버블링(event bubbling)이라 하고, 부모에서 자기 자신으로 전파되면 이벤트 캡쳐링…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:title" content="리액트(react)에서 이벤트 버블링(bubbling)과 캡쳐링(capturing) 사용하기"/><meta data-react-helmet="true" property="og:description" content="이벤트 버블링 / 캡쳐링 특정 DOM 노드에서 발생한 이벤트는 부모 또는 자식으로 전파됩니다. 자기자신(currentTarget)에서 부모로 전파되면 이벤트 버블링(event bubbling)이라 하고, 부모에서 자기 자신으로 전파되면 이벤트 캡쳐링…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creater" content="@blueshw"/><meta data-react-helmet="true" name="twitter:title" content="리액트(react)에서 이벤트 버블링(bubbling)과 캡쳐링(capturing) 사용하기"/><meta data-react-helmet="true" name="twitter:description" content="이벤트 버블링 / 캡쳐링 특정 DOM 노드에서 발생한 이벤트는 부모 또는 자식으로 전파됩니다. 자기자신(currentTarget)에서 부모로 전파되면 이벤트 버블링(event bubbling)이라 하고, 부모에서 자기 자신으로 전파되면 이벤트 캡쳐링…"/><script data-react-helmet="true" async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-react-helmet="true" async="" src="https://static.codepen.io/assets/embed/ei.js"></script><style data-styled="iHZvIS gkRqNh inwzvX iPvBDw lfMCsp gaWkyC jMRudl bCTfZv bWwvzh bZyUGp iMtDsI hXAfHy iEmYcW jDGYoj hTVfqa TbpWH iJLqqc jFaOqE kysVOw jdrydf jEaxjM dzpLHw fPdXYp" data-styled-version="4.3.2">
/* sc-component-id: sc-bdVaJa */
.iHZvIS{box-sizing:border-box;}.gkRqNh{box-sizing:border-box;margin-top:50px;}.inwzvX{box-sizing:border-box;margin:10px;}.iPvBDw{box-sizing:border-box;margin-bottom:40px;}.lfMCsp{box-sizing:border-box;margin-bottom:30px;}
/* sc-component-id: sc-bwzfXH */
.jDGYoj{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: sc-htpNat */
.TbpWH{box-sizing:border-box;margin-top:15px;margin-bottom:15px;width:100vw;font-size:16px;color:#888888;font-weight:400;text-align:center;}.iJLqqc{box-sizing:border-box;font-size:24px;line-height:1.1;}.jFaOqE{box-sizing:border-box;margin-top:7px;margin-bottom:90px;color:#bbb;}
/* sc-component-id: menu___StyledLink-h1woa4-0 */
.hTVfqa{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: header___StyledFlex-sc-1h24lom-0 */
.gaWkyC{box-sizing:border-box;padding:10px;width:100%;background-color:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;left:0;top:0;height:50px;border-bottom:1px solid #e8e8e8;z-index:200;}
/* sc-component-id: header___StyledText-sc-1h24lom-1 */
.jMRudl{box-sizing:border-box;margin-top:3px;margin-left:20px;margin-right:auto;font-size:22px;color:#888888;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer;} @media (max-width:600px){.jMRudl{margin-left:10px;}}
/* sc-component-id: header___StyledLink-sc-1h24lom-2 */
.bCTfZv{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: header___StyledBox-sc-1h24lom-3 */
.bWwvzh{box-sizing:border-box;padding:5px;width:30px;height:28px;cursor:pointer;overflow:hidden;}
/* sc-component-id: header___StyledBox2-sc-1h24lom-4 */
.bZyUGp{box-sizing:border-box;margin-bottom:6px;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:all 0.4s;transition:all 0.4s;-webkit-transform:rotateZ(0);-ms-transform:rotateZ(0);transform:rotateZ(0);-webkit-transform-origin:100% 0;-ms-transform-origin:100% 0;transform-origin:100% 0;}
/* sc-component-id: header___StyledBox3-sc-1h24lom-5 */
.iMtDsI{box-sizing:border-box;margin-bottom:6px;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transform-origin:100% 50%;-ms-transform-origin:100% 50%;transform-origin:100% 50%;}
/* sc-component-id: header___StyledBox4-sc-1h24lom-6 */
.hXAfHy{box-sizing:border-box;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:all 0.4s;transition:all 0.4s;-webkit-transform:rotateZ(0);-ms-transform:rotateZ(0);transform:rotateZ(0);-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%;}
/* sc-component-id: layout___StyledBox-sc-3234dv-0 */
.iEmYcW{box-sizing:border-box;width:100%;background-color:white;border-bottom:none;position:fixed;left:0;top:50px;z-index:100;opacity:0.9;max-height:0px;-webkit-transition:max-height 0.5s ease;transition:max-height 0.5s ease;overflow:hidden;}
/* sc-component-id: layout___StyledBox2-sc-3234dv-1 */
.kysVOw{box-sizing:border-box;margin-left:auto;margin-right:auto;padding:45px 20px;max-width:800px;}
/* sc-component-id: blog-post___StyledBox-sc-13kot0y-0 */
.jdrydf{box-sizing:border-box;color:#333333;line-height:30px;}
/* sc-component-id: blog-post___StyledFlex-sc-13kot0y-1 */
.jEaxjM{box-sizing:border-box;margin-bottom:30px;padding-top:30px;font-size:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-top:1px solid #eee;}
/* sc-component-id: blog-post___StyledText-sc-13kot0y-2 */
.dzpLHw{box-sizing:border-box;line-height:1.8;max-width:280px;}
/* sc-component-id: blog-post___StyledText2-sc-13kot0y-3 */
.fPdXYp{box-sizing:border-box;line-height:1.8;max-width:280px;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/styles-8bc551ac3bf6e254a788.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-deaf56f39643f9094013.js"/><link as="script" rel="preload" href="/commons-0e39c3c3197a6d8e950d.js"/><link as="script" rel="preload" href="/app-cc53fd3bdbd2417dedc2.js"/><link as="script" rel="preload" href="/webpack-runtime-7a91230427c124d5335d.js"/><link as="fetch" rel="preload" href="/page-data/2018/04/23/event-bubbling-capturing/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="sc-bdVaJa iHZvIS"><div class="sc-bdVaJa iHZvIS"><div width="100%" class="sc-bdVaJa sc-bwzfXH header___StyledFlex-sc-1h24lom-0 gaWkyC"><div color="grey01" font-size="22px" class="sc-bdVaJa sc-htpNat header___StyledText-sc-1h24lom-1 jMRudl"><a class="header___StyledLink-sc-1h24lom-2 bCTfZv" href="/">bono&#x27;s blog</a></div><div width="30px" class="sc-bdVaJa header___StyledBox-sc-1h24lom-3 bWwvzh"><div width="20px" class="sc-bdVaJa header___StyledBox2-sc-1h24lom-4 bZyUGp"></div><div width="20px" class="sc-bdVaJa header___StyledBox3-sc-1h24lom-5 iMtDsI"></div><div width="20px" class="sc-bdVaJa header___StyledBox4-sc-1h24lom-6 hXAfHy"></div></div></div></div><div class="sc-bdVaJa gkRqNh"><div width="100%" class="sc-bdVaJa layout___StyledBox-sc-3234dv-0 iEmYcW"><div class="sc-bdVaJa inwzvX"><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/programming"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">개발</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/interactive-web"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">인터랙티브웹</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/essay"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">에세이</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/review"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">책리뷰</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/tags"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">태그</div></a></div></div></div></div><div class="sc-bdVaJa contents layout___StyledBox2-sc-3234dv-1 kysVOw"><div font-size="24px" class="sc-bdVaJa sc-htpNat iJLqqc">리액트(react)에서 이벤트 버블링(bubbling)과 캡쳐링(capturing) 사용하기</div><div color="#bbb" class="sc-bdVaJa sc-htpNat jFaOqE">April 23, 2018</div><div class="sc-bdVaJa iPvBDw"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4588610260101909" data-ad-slot="1331884154" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div color="text" class="sc-bdVaJa blog-post___StyledBox-sc-13kot0y-0 jdrydf"><h3>이벤트 버블링 / 캡쳐링</h3>
<p>특정 DOM 노드에서 발생한 이벤트는 부모 또는 자식으로 전파됩니다. 자기자신(currentTarget)에서 부모로 전파되면 이벤트 버블링(event bubbling)이라 하고, 부모에서 자기 자신으로 전파되면 이벤트 캡쳐링(event capturing)이라 합니다. 이벤트가 발생하면 우선 window 부터 target node 까지 이벤트 캡쳐링합니다<code class="language-text">(capture phase(1))</code>. 그 다음 타켓 노드에 이벤트가 발생<code class="language-text">(target phase(2))</code>하고 마지막으로 이벤트를 한단계씩 상위로 버블링<code class="language-text">(bubbling phase(3))</code>합니다. (이미지 출처: www.w3.org)</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 87.59455370650531%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAADEklEQVQ4y42US28aVxiG+SeVuu6i60pdVIq66L79Fe0urpJFq3oRqVJSyVUT1e0mvaRqayWOLzjYAdsxDhhjmMExN5uBgGEwDIO5jLkMHvz0MMSOL1jpkc6cb2a+88z7fueccTCinZyc2F1c0IpFYrEYiUSClKKgVctnOaOa41rgIGjUUZNJ1n0+lpeX2dmJIishOlb7WqjjHOWCOvuuXqfs97Gy9gL34iLrL72UmgeYlvlu4JnNQdzvD/mGQTOXY1PaxuvfYjseJVmKXsm/1vJA1xl0cGkd0dndY2JVYdyVYioU5aD2+v8Bz6vrh4L0w2GoVullMsy+jPBwaRNJyVE9Kr0ty3lXb8aRlvtSGOv5c2G5Saegcn8pwp1ZmalAiPyhMnIRR1s+98KOeiamWOU5KcujQJZAeh+tUaDda9MyWxx1jXcofLPa9qKc1jBf4OFKhIm5IM6QjG4ciDrm+d03iXfXfXFniH61hmLsn8IF2BSbetIV4s6TAO7tXdRaxs57radpdJpXyuW4DBu2Pr22QUds7IqS5mkgwb8bKRbDEqnSnrCtYzQ0TLMu9mTLFnA633EZph31mH+l8jScRT00oN2CZl3Yb4gu4kyOSjzFQlLnyVYWOT9QevgWeFnyvm7ww7MI95xh0qpmP7OE9eOOyXGlKqBVqlqJB2tx7s7JzEte9Nb+VYWDSXuqzrocR9MqlMoa61IcpVjFsnPEcdtX8AYKTM9EiEYyKKooQyDIrlrBPLaGNTwF1ltdJrw5bs9G8adKBLI1bol4Yi1NQUBfyeD5S+HDD3y8/16G219HiFTKfONMcteTIlfSLwJ74gsu/w6/Tq9SrNQoaDV+fryCezOGZVl4POAPgleKMjnlIS8AlZph5z/z7dA1e0PgwOqgrcoKn43PcOM7JzcfzPHlTwt8Or7Ax2N/C+jwhyDv5fj8eydf3HPz1Y+zjP2yyCffzvPR2D9Mr8oXFbY6XVwbMX5b2CAhTkQqX+YPV5CZFxL1hmHndLomnq0kf7o2kRMZssUKj5a2eLwcQj+s2zn/AWGpM+DiZmccAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="event"
        title="event"
        src="/static/137b0f890dd0d1d21a6c40b0aeafe49a/b9e4f/event.png"
        srcset="/static/137b0f890dd0d1d21a6c40b0aeafe49a/cf440/event.png 148w,
/static/137b0f890dd0d1d21a6c40b0aeafe49a/d2d38/event.png 295w,
/static/137b0f890dd0d1d21a6c40b0aeafe49a/b9e4f/event.png 590w,
/static/137b0f890dd0d1d21a6c40b0aeafe49a/840a7/event.png 661w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<p>이벤트 발생 시점이 다르기 때문에 이벤트 핸들러를 <code class="language-text">binding</code>할때 주의가 필요합니다. 보통은 아래처럼 작성합니다. 세번째 인자가 없거나 <code class="language-text">false</code>면 버블링, <code class="language-text">true</code>면 캡쳐링시에 이벤트가 발생합니다. target 노드는 바인딩 방식과는 상관없이 캡쳐링이 끝나면 이벤트가 발생합니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// event bubbling</span>
element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span>

<span class="token comment">// event capturing</span>
element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>
<p>모바일에서 가운데 영역을 터치하면 메뉴가 나타나거나 사라지고 좌우를 클릭하면 페이지가 좌우로 이동하는 기능이 있다고 가정합니다. 메뉴가 켜져 있으면 상단에 세개 버튼이 노출됩니다.</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;"
    >
      <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 65.84415584415585%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAABY0lEQVQ4y6WSPU7EMBCF9zhcgTtQUdEi0VFTQYmQOAcSHSVCS0OHWIkD0G2JtLtkk82PEyfjh9+wBu9fkMDSk8fO+PPMcwbOObRtC2utzuvivoioKisovGwnMLZD04rK+L2260DWAH4URYG6rjGfz1FVlUIYG2NQlhXE1ngvgeNhhdNhgsMHh/07h4N7p/HercPVq3iSYEAqD3LkeY7O3xRird6v28bgw6dcjhpcj3JcjICTJ+DsGTh/AY4egZu3CMiqOBaLhbYZYsK5Nr56T8fPcGuCwmjLBjBUGANph/g8CstZfChR3MkWINukf9xjrPf6JFrCvS9hM17mKTA8ymw203k6nWI8HitwMpkgSZLvl3bLtl3UfohXgKyQ7RFSlqVWlGWZgpqm0ZZDVb8C+zxkAtd/BrLCba/8L2D8H/ZVGGvDQ/rGg/SNnvFDmqY7Pdw2VoA8xIcIIiBe87JQbZ944SdyGPK79qdVDwAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="mobile"
        title="mobile"
        src="/static/df1f9994100d0a8207c624d44049ed75/b9e4f/mobile.png"
        srcset="/static/df1f9994100d0a8207c624d44049ed75/cf440/mobile.png 148w,
/static/df1f9994100d0a8207c624d44049ed75/d2d38/mobile.png 295w,
/static/df1f9994100d0a8207c624d44049ed75/b9e4f/mobile.png 590w,
/static/df1f9994100d0a8207c624d44049ed75/4a38b/mobile.png 770w"
        sizes="(max-width: 590px) 100vw, 590px"
        loading="lazy"
      />
    </span></p>
<p>가운데 영역을 터치해서 메뉴가 오픈된 상태에서 왼쪽 버튼을 터치합니다. 이 영역은 페이지를 좌측으로 이동하는 영역과 겹쳐있습니다. 터치이벤트가 발생하면 좌측 페이지로 이동하는 이벤트와 <code class="language-text">홈</code> 버튼의 터치 이벤트가 발생합니다. 일반적으로 전체 영역(window or document)은 홈버튼의 부모 노드입니다. 이 때 전체영역과 홈버튼의 이벤트를 어떻게 바인딩(캡쳐링 or 버블링)했냐에 따라 이벤트 발생 순서는 완전히 바뀝니다. 일반적으로 세번째 인자를 쓰지 않고(or false) 바인딩하면, <code class="language-text">bubbling</code> 시점에 이벤트가 발생합니다. target 노드인 leftButton 의 이벤트가 먼저 발생합니다. 그 후에 이벤트가 부모로 버블링되면서 window 의 click 이벤트가 발생합니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickHandler<span class="token punctuation">)</span>
leftButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickBtnHandler<span class="token punctuation">)</span></code></pre></div>
<p>반대로 아래처럼 <code class="language-text">capturing</code> 방식으로 바인딩했다면 최상위 노드가 가장먼저 실행됩니다. 즉, window 의 이벤트가 가장 먼저 발생합니다. 이 후 이벤트가 캡쳐링되면서 target 노드인 leftButton 의 <code class="language-text">click</code> 이벤트가 발생합니다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickHandler<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
leftButton<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> clickBtnHandler<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span></code></pre></div>
<h3>react 에서 이벤트 버블링 / 캡쳐링 사용하기</h3>
<p>리액트에서 이벤트 버블링과 캡쳐링 사용은 어렵지 않습니다. click 이벤트의 경우에는 <code class="language-text">onClick</code>은 버블링, <code class="language-text">onClickCapture</code>는 캡쳐링을 사용합니다.</p>
<p>위에서 보았던 예제를 바탕으로 이벤트 캡쳐링/버블링 테스트를 위해 아래처럼 코드를 입력합니다. 코드에서 사용한 <code class="language-text">onClick</code> 속성은 버블링 방식으로 이벤트를 바인딩하기 때문에 자기자신의 이벤트가 먼저 발생하고 부모로 이벤트를 전파합니다. 우선 가운데 영역을 클릭해 상단 메뉴를 열어줍니다. 그리고 왼쪽의 <code class="language-text">HOME</code> 버튼을 클릭합니다. 각 노드의 이벤트가 bubbling 방식으로 동작하기 때문에 <code class="language-text">home</code>이 먼저 출력되고 <code class="language-text">left</code>가 출력됩니다.</p>
<h4>이벤트 bubbling</h4>
<p data-height="450" data-theme-id="0" data-slug-hash="QrjmBG" data-default-tab="js,result" data-user="blueshw" data-embed-version="2" data-pen-title="event bubbling  in react" class="codepen">See the Pen <a href="https://codepen.io/blueshw/pen/QrjmBG/">event bubbling  in react</a> by Hyunwoo Seo (<a href="https://codepen.io/blueshw">@blueshw</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<h4>이벤트 capturing</h4>
<p>이번에는 캡쳐링을 살펴보겠습니다. 이벤트 캡쳐링과 버블링을 비교하기 위해 <code class="language-text">menuBox</code>에 이벤트를 추가합니다. background 와 home 버튼은 <code class="language-text">onClickCapture</code>로 바인딩(캡쳐링)하고, menuBox 에는 <code class="language-text">onClick</code>으로 바인딩(버블링)합니다. 위에서 이벤트가 발생하는 순서는 <code class="language-text">캡쳐링 -&gt; 타겟노드 -&gt; 버블링</code>이므로 가장먼저 <code class="language-text">left</code>가 출력됩니다. 그 다음은 타켓노드의 이벤트가 발생해서 <code class="language-text">home</code>이 출력됩니다. 타켓노드 이후에 이벤트가 버블링 되고 menuBox 에 <code class="language-text">click menu</code>가 출력됩니다.</p>
<p data-height="450" data-theme-id="0" data-slug-hash="pVjLmW" data-default-tab="js,result" data-user="blueshw" data-embed-version="2" data-pen-title="event capturing in react" class="codepen">See the Pen <a href="https://codepen.io/blueshw/pen/pVjLmW/">event capturing in react</a> by Hyunwoo Seo (<a href="https://codepen.io/blueshw">@blueshw</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<h4>정리</h4>
<p>이벤트는 <code class="language-text">캡처링 -&gt; 타겟노드 -&gt; 버블링</code>의 순서로 발생합니다. 캡처링은 가장 상위(window)에서 먼저 이벤트가 발생하고 자식으로 한단계씩 전파합니다. 타켓노드까지 이벤트가 전파된 후에는 반대로 한단계씩 부모로 전파됩니다. 각 노드에서 바인딩(binding)된 이벤트 핸들러가 capture 방식이라면 이벤트 캡쳐링시에 실행되고, 반대로 bubbling 방식이라면 이벤트 버블링시에 실행됩니다. target 노드에 바인딩된 핸들러는 capture 의 사용 유무와 상관없이 이벤트 캡쳐가 끝나면 실행됩니다.</p>
<h3>참고자료</h3>
<ul>
<li><a href="https://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture">https://www.w3.org/TR/DOM-Level-3-Events/#dom-event-architecture</a></li>
</ul></div><div class="sc-bdVaJa lfMCsp"></div><div font-size="15px" class="sc-bdVaJa sc-bwzfXH blog-post___StyledFlex-sc-13kot0y-1 jEaxjM"><div class="sc-bdVaJa sc-htpNat blog-post___StyledText-sc-13kot0y-2 dzpLHw"><a rel="prev" href="/2018/04/15/why-nextjs/">[nextjs] nextjs는 어떻게 동작하는가?</a></div><div class="sc-bdVaJa sc-htpNat blog-post___StyledText2-sc-13kot0y-3 fPdXYp"><a rel="next" href="/2018/06/21/about_my_poor_patience/">형편없는 나의 끈기에 대하여</a></div></div><div class="sc-bdVaJa iPvBDw"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4588610260101909" data-ad-slot="5306007932" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div id="disqus_thread"></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-50048807-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2018/04/23/event-bubbling-capturing/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-cc53fd3bdbd2417dedc2.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d850857698be14e9fc83.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-deaf56f39643f9094013.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-6ce54d8fe914bed959d8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-ea93c3ecfc42a5e67458.js"],"component---src-pages-essay-js":["/component---src-pages-essay-js-d05ce4a210dc8eea6dcd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3f2c54386549a0ac494e.js"],"component---src-pages-interactive-web-js":["/component---src-pages-interactive-web-js-749128f7942efff67a33.js"],"component---src-pages-programming-js":["/component---src-pages-programming-js-800fe9fdcfbe11031440.js"],"component---src-pages-review-js":["/component---src-pages-review-js-ac31759125efbc968356.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-4929d96a7b62b34c9338.js"]};/*]]>*/</script><script src="/webpack-runtime-7a91230427c124d5335d.js" async=""></script><script src="/app-cc53fd3bdbd2417dedc2.js" async=""></script><script src="/commons-0e39c3c3197a6d8e950d.js" async=""></script><script src="/component---src-templates-blog-post-js-deaf56f39643f9094013.js" async=""></script><script src="/styles-8bc551ac3bf6e254a788.js" async=""></script></body></html>