<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.9d9ade1e07b38c372637.css">abbr,address,article,aside,audio,b,blockquote,body,canvas,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,header,hgroup,html,i,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,time,ul,var,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}iframe,img{width:100%}iframe{margin:20px 0}.adsbygoogle iframe{margin:0}nav ul{list-style:none}blockquote,q{quotes:none}blockquote>p>a{display:inline-block}h1,h2,h3,h4,h5,h6{margin-top:.5em;margin-bottom:.5em;padding-top:1em}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{text-decoration:none}ins,mark{background-color:#fff;color:#000}mark{font-style:italic;font-weight:700}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}p{margin-bottom:1.8rem;word-break:break-all}code.language-text{font-size:14px!important}table{margin:40px auto;width:80%;border-spacing:0;border-collapse:collapse}table,table tr{padding:0;border-top:1px solid #ccc}table tr{background-color:#fff;margin:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700}table tr td,table tr th{border-bottom:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td :first-child,table tr th :first-child{margin-top:0}table tr td:not(:first-child),table tr th:not(:first-child){border-left:1px solid #ccc}table tr td :last-child,table tr th :last-child{margin-bottom:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}.contents a{-webkit-transition:background .5s;transition:background .5s}.contents a:not(.gatsby-resp-image-link){color:#3a3a3a;text-decoration:none;border-bottom:3px solid #d7c3ee}.contents a:active:not(.gatsby-resp-image-link),.contents a:hover:not(.gatsby-resp-image-link){outline-width:0;text-shadow:none;background-color:#e0d6eb}.contents ul{margin-left:15px;word-break:break-all}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d;margin-top:.1rem;margin-bottom:1.8rem}:not(pre)>code[class*=language-]{background:#dfdfdf;color:#222;padding:3px 5px;font-weight:600}blockquote{margin:20px 15px 20px 0;padding-left:35px;border-left:5px solid #e5e5e5}.frame-wrap{overflow:auto;width:100%}.container-404,.frame-wrap{-webkit-overflow-scrolling:touch}.container-404{font-family:Arial;height:500vw;overflow-x:hidden;display:flex;justify-content:center;align-items:center;position:fixed;left:0;top:0;width:100vw;height:100vh;overflow:hidden;opacity:0;-webkit-transition:opacity 1s;transition:opacity 1s}.container-404>span{padding:1.5vh;font-size:25vh;font-weight:700;color:#333;cursor:default}.container-404>.home{position:fixed;right:3vw;bottom:3vw;margin:0;padding:0;color:#999;cursor:pointer;text-decoration:underline;font-size:13px}</style><meta name="generator" content="Gatsby 2.17.0"/><style type="text/css">.gatsby-resp-image-image{width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;color:transparent;}</style><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=008654519ce705ac7bc44303a9014606"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=008654519ce705ac7bc44303a9014606"/><title data-react-helmet="true">[interactive web] 스크롤에 따라 svg path 변화시키기 (1부터 9까지 숫자 변형하기) | bono&#x27;s blog</title><meta data-react-helmet="true" name="google-site-verification" content="R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA"/><meta data-react-helmet="true" name="naver-site-verification" content="23eddf7267bb527337927baff11fc26157637f30"/><meta data-react-helmet="true" name="description" content="스크롤하면 숫자 1부터 9까지 모양이 점진적으로 변하도록 만들어보았다. 각 숫자의 형태를 만들기 위해 웹에서 사용가능한 벡터 이미지인 SVG를 이용해 구현했다. SVG가 뭐지? 라는 분들이 있다면 W3Scools의 SVG Tutorial을 읽어보자.…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:title" content="[interactive web] 스크롤에 따라 svg path 변화시키기 (1부터 9까지 숫자 변형하기)"/><meta data-react-helmet="true" property="og:description" content="스크롤하면 숫자 1부터 9까지 모양이 점진적으로 변하도록 만들어보았다. 각 숫자의 형태를 만들기 위해 웹에서 사용가능한 벡터 이미지인 SVG를 이용해 구현했다. SVG가 뭐지? 라는 분들이 있다면 W3Scools의 SVG Tutorial을 읽어보자.…"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creater" content="@blueshw"/><meta data-react-helmet="true" name="twitter:title" content="[interactive web] 스크롤에 따라 svg path 변화시키기 (1부터 9까지 숫자 변형하기)"/><meta data-react-helmet="true" name="twitter:description" content="스크롤하면 숫자 1부터 9까지 모양이 점진적으로 변하도록 만들어보았다. 각 숫자의 형태를 만들기 위해 웹에서 사용가능한 벡터 이미지인 SVG를 이용해 구현했다. SVG가 뭐지? 라는 분들이 있다면 W3Scools의 SVG Tutorial을 읽어보자.…"/><script data-react-helmet="true" async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><script data-react-helmet="true" async="" src="https://static.codepen.io/assets/embed/ei.js"></script><style data-styled="iHZvIS gkRqNh inwzvX iPvBDw lfMCsp gaWkyC jMRudl bCTfZv bWwvzh bZyUGp iMtDsI hXAfHy iEmYcW jDGYoj hTVfqa TbpWH iJLqqc jFaOqE kysVOw jdrydf jEaxjM dzpLHw fPdXYp" data-styled-version="4.3.2">
/* sc-component-id: sc-bdVaJa */
.iHZvIS{box-sizing:border-box;}.gkRqNh{box-sizing:border-box;margin-top:50px;}.inwzvX{box-sizing:border-box;margin:10px;}.iPvBDw{box-sizing:border-box;margin-bottom:40px;}.lfMCsp{box-sizing:border-box;margin-bottom:30px;}
/* sc-component-id: sc-bwzfXH */
.jDGYoj{box-sizing:border-box;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}
/* sc-component-id: sc-htpNat */
.TbpWH{box-sizing:border-box;margin-top:15px;margin-bottom:15px;width:100vw;font-size:16px;color:#888888;font-weight:400;text-align:center;}.iJLqqc{box-sizing:border-box;font-size:24px;line-height:1.1;}.jFaOqE{box-sizing:border-box;margin-top:7px;margin-bottom:90px;color:#bbb;}
/* sc-component-id: menu___StyledLink-h1woa4-0 */
.hTVfqa{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: header___StyledFlex-sc-1h24lom-0 */
.gaWkyC{box-sizing:border-box;padding:10px;width:100%;background-color:white;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:fixed;left:0;top:0;height:50px;border-bottom:1px solid #e8e8e8;z-index:200;}
/* sc-component-id: header___StyledText-sc-1h24lom-1 */
.jMRudl{box-sizing:border-box;margin-top:3px;margin-left:20px;margin-right:auto;font-size:22px;color:#888888;-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;cursor:pointer;} @media (max-width:600px){.jMRudl{margin-left:10px;}}
/* sc-component-id: header___StyledLink-sc-1h24lom-2 */
.bCTfZv{box-shadow:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;}
/* sc-component-id: header___StyledBox-sc-1h24lom-3 */
.bWwvzh{box-sizing:border-box;padding:5px;width:30px;height:28px;cursor:pointer;overflow:hidden;}
/* sc-component-id: header___StyledBox2-sc-1h24lom-4 */
.bZyUGp{box-sizing:border-box;margin-bottom:6px;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:all 0.4s;transition:all 0.4s;-webkit-transform:rotateZ(0);-ms-transform:rotateZ(0);transform:rotateZ(0);-webkit-transform-origin:100% 0;-ms-transform-origin:100% 0;transform-origin:100% 0;}
/* sc-component-id: header___StyledBox3-sc-1h24lom-5 */
.iMtDsI{box-sizing:border-box;margin-bottom:6px;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:-webkit-transform 0.5s;-webkit-transition:transform 0.5s;transition:transform 0.5s;-webkit-transform:scale(1);-ms-transform:scale(1);transform:scale(1);-webkit-transform-origin:100% 50%;-ms-transform-origin:100% 50%;transform-origin:100% 50%;}
/* sc-component-id: header___StyledBox4-sc-1h24lom-6 */
.hXAfHy{box-sizing:border-box;padding-top:2px;width:20px;background-color:#888888;-webkit-transition:all 0.4s;transition:all 0.4s;-webkit-transform:rotateZ(0);-ms-transform:rotateZ(0);transform:rotateZ(0);-webkit-transform-origin:100% 100%;-ms-transform-origin:100% 100%;transform-origin:100% 100%;}
/* sc-component-id: layout___StyledBox-sc-3234dv-0 */
.iEmYcW{box-sizing:border-box;width:100%;background-color:white;border-bottom:none;position:fixed;left:0;top:50px;z-index:100;opacity:0.9;max-height:0px;-webkit-transition:max-height 0.5s ease;transition:max-height 0.5s ease;overflow:hidden;}
/* sc-component-id: layout___StyledBox2-sc-3234dv-1 */
.kysVOw{box-sizing:border-box;margin-left:auto;margin-right:auto;padding:45px 20px;max-width:800px;}
/* sc-component-id: blog-post___StyledBox-sc-13kot0y-0 */
.jdrydf{box-sizing:border-box;color:#333333;line-height:30px;}
/* sc-component-id: blog-post___StyledFlex-sc-13kot0y-1 */
.jEaxjM{box-sizing:border-box;margin-bottom:30px;padding-top:30px;font-size:15px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;border-top:1px solid #eee;}
/* sc-component-id: blog-post___StyledText-sc-13kot0y-2 */
.dzpLHw{box-sizing:border-box;line-height:1.8;max-width:280px;}
/* sc-component-id: blog-post___StyledText2-sc-13kot0y-3 */
.fPdXYp{box-sizing:border-box;line-height:1.8;max-width:280px;}</style><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/styles-fed54c9c709079326ac3.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-deaf56f39643f9094013.js"/><link as="script" rel="preload" href="/commons-0e39c3c3197a6d8e950d.js"/><link as="script" rel="preload" href="/app-cc53fd3bdbd2417dedc2.js"/><link as="script" rel="preload" href="/webpack-runtime-8d6dc37ecf34d7eac515.js"/><link as="fetch" rel="preload" href="/page-data/2020/01/27/svg-path-onscroll/page-data.json" crossorigin="anonymous"/></head><body><noscript id="gatsby-noscript">This app works best with JavaScript enabled.</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group" id="gatsby-focus-wrapper"><div class="sc-bdVaJa iHZvIS"><div class="sc-bdVaJa iHZvIS"><div width="100%" class="sc-bdVaJa sc-bwzfXH header___StyledFlex-sc-1h24lom-0 gaWkyC"><div color="grey01" font-size="22px" class="sc-bdVaJa sc-htpNat header___StyledText-sc-1h24lom-1 jMRudl"><a class="header___StyledLink-sc-1h24lom-2 bCTfZv" href="/">bono&#x27;s blog</a></div><div width="30px" class="sc-bdVaJa header___StyledBox-sc-1h24lom-3 bWwvzh"><div width="20px" class="sc-bdVaJa header___StyledBox2-sc-1h24lom-4 bZyUGp"></div><div width="20px" class="sc-bdVaJa header___StyledBox3-sc-1h24lom-5 iMtDsI"></div><div width="20px" class="sc-bdVaJa header___StyledBox4-sc-1h24lom-6 hXAfHy"></div></div></div></div><div class="sc-bdVaJa gkRqNh"><div width="100%" class="sc-bdVaJa layout___StyledBox-sc-3234dv-0 iEmYcW"><div class="sc-bdVaJa inwzvX"><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/programming"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">개발</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/interactive-web"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">인터랙티브웹</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/essay"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">에세이</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/review"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">책리뷰</div></a></div><div class="sc-bdVaJa sc-bwzfXH jDGYoj"><a class="menu___StyledLink-h1woa4-0 hTVfqa" href="/tags"><div width="100vw" font-size="16px" font-weight="400" color="#888888" class="sc-bdVaJa sc-htpNat TbpWH">태그</div></a></div></div></div></div><div class="sc-bdVaJa contents layout___StyledBox2-sc-3234dv-1 kysVOw"><div font-size="24px" class="sc-bdVaJa sc-htpNat iJLqqc">[interactive web] 스크롤에 따라 svg path 변화시키기 (1부터 9까지 숫자 변형하기)</div><div color="#bbb" class="sc-bdVaJa sc-htpNat jFaOqE">January 26, 2020</div><div class="sc-bdVaJa iPvBDw"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4588610260101909" data-ad-slot="1331884154" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div color="text" class="sc-bdVaJa blog-post___StyledBox-sc-13kot0y-0 jdrydf"><p>스크롤하면 숫자 1부터 9까지 모양이 점진적으로 변하도록 만들어보았다. 각 숫자의 형태를 만들기 위해 웹에서 사용가능한 벡터 이미지인 SVG를 이용해 구현했다. SVG가 뭐지? 라는 분들이 있다면 W3Scools의 <a href="https://www.w3schools.com/graphics/svg_intro.asp">SVG Tutorial</a>을 읽어보자.</p>
<p>우선 결과물부터..</p>
<p class="codepen" data-height="480" data-theme-id="default" data-default-tab="result" data-user="blueshw" data-slug-hash="VwYqJxJ" style="height: 480px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="svg path change onScroll (1-9)">
  <span>See the Pen <a href="https://codepen.io/blueshw/pen/VwYqJxJ">
  svg path change onScroll (1-9)</a> by Hyunwoo Seo (<a href="https://codepen.io/blueshw">@blueshw</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>간단히 설명하자면, 우선 1부터 9까지 각 숫자의 path를 배열로 미리 만들어둔다. 페이지 전체 높이를 배열의 길이만큼으로 나눠서 각 지점에 도달했을때 해당 숫자가 나타나도록 path를 변경한다. 단, 각 숫자가 한번에 바뀌는게 아니라 점진적으로 변경되므로 스크롤에 따른 일부 연산이 필요하다. 자세한 설명은 아래 구현과정을 통해서 알아보자. </p>
<h2>HTML</h2>
<p>HTML은 매우 간단하다. <code class="language-text">SVG animation</code>을 사용하는게 아니기 때문에 svg 태그와 path 태그 하나씩만 있으면 된다. 숫자 표현을 위해서 점과 <code class="language-text">베지어곡선(C)</code>을 사용하였다. 아래는 초기값으로 숫자 <code class="language-text">1</code>을 나타낸다. 그런데 점과 C, 숫자들이 꽤 많이 보인다. 1일 그리는데는 점 두개면 되는거 아닌가? 이유는 2, 3, 4를 그리다보면 알 수 있는데, 숫자의 변형은 각 점의 위치를 이동하면서 만든다. 즉, 모든 숫자를 동일한 개수의 점(총 7개)으로 만들어야한다는 의미다. 2를 그릴때는 대략 4개 정도의 점이면 충분히 그릴수 있다. 하지만, 3이나 8같이 곡선이 많은 숫자를 부드럽게 표현하기 위해서는 7개정도의 점이 필요하다. 그래서 모든 숫자는 7개의 점으로 표현한다.</p>
<div class="gatsby-highlight" data-language="html"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wrapper<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.w3.org/2000/svg<span class="token punctuation">"</span></span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>0 0 800 600<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>svg-number<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>number-path<span class="token punctuation">"</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>none<span class="token punctuation">"</span></span> <span class="token attr-name">stroke</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#C0362C<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-width</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linecap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">stroke-linejoin</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>round<span class="token punctuation">"</span></span> <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>M 400 50 C 400 80 400 100 400 100 C 400 120 400 150 400 150 C 400 150 400 180 400 200 C 400 220 400 300 400 300 C 400 300 400 350 400 350 C 400 350 400 450 400 500<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>path</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre></div>
<p>path에 사용한 몇가지 속성을 살펴보자. </p>
<blockquote>
<ul>
<li>fill: 요소를 칠할때 사용되는 색상, 애니메이션의 경우 최종 상태를 정의</li>
<li>stroke: path의 색상</li>
<li>stroke-width: path의 너비</li>
<li>stroke-linecap: path 끝을 어떻게 표현할지 결정 (round: 둥글게 표현)</li>
<li>stroke-linejoin: path의 모서리를 어떻게 표현할지 결정 (round: 둥글게 표현), 이 속성이 없으면 path가 겹칠때 깨진다.</li>
</ul>
</blockquote>
<h2>onScroll</h2>
<p>window에 scroll이벤트를 등록해서 스크롤이 발생할때마다 이벤트 리스너가 호출되도록 한다. 리스너 함수인 <code class="language-text">handleScroll()</code>이 호출되면 <code class="language-text">heightRate(스크롤이 가장 위일때 0, 가장 아래일때 1)</code>로 계산된 d값과 numberColor, bgColor를 구해서 각 element에 적용한다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">handleScroll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  ticking <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> totalHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>scrollHeight <span class="token operator">-</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
	<span class="token keyword">const</span> heightRate <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>pageYOffset <span class="token operator">/</span> totalHeight <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token function">getCalculatedPath</span><span class="token punctuation">(</span>heightRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
	path<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'d'</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> numberColor <span class="token operator">=</span> <span class="token function">getCalculatedColor</span><span class="token punctuation">(</span>heightRate<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	path<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'stroke'</span><span class="token punctuation">,</span> numberColor<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> bgColor <span class="token operator">=</span> <span class="token function">getCalculatedColor</span><span class="token punctuation">(</span>heightRate<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> bgColor<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>스크롤 위치에 따른 d 값 구하기</h2>
<p><code class="language-text">d</code> 값을 구하는 과정은 다음과 같다.</p>
<blockquote>
<ul>
<li>heightRate를 이용해 현재 스크롤 위치가 1~9 사이의 어디인지(preIndex, nextIndex)를 구한다.</li>
<li>d값을 연산하기 쉽도록 미리정의해둔 d 문자열을 객체 형태로 변환(getPathItem)해 가져온다(정확히는 객체의 배열).</li>
<li>이때 getPathItem 함수의 반환값은 반복되는 경우가 많으므로 <code class="language-text">memoization</code>한다.</li>
<li><code class="language-text">reduce 함수</code>를 이용해 변환된 d 배열 두개를 비교해 모든 점의 현재 위치를 구한다(자세한 공식 설명은 생략). </li>
<li>각 점의 위치 값을 가진 배열을 문자열 하나로 합쳐서(join) 다시 d 문자열로 변환한다.</li>
</ul>
</blockquote>
<p>위 과정을 거치면 현재 스크롤의 path값을 구할 수 있다. 예를 들어 현재 스크롤이 1과 2 사이 중간쯤이라면 각 점은 모두 1과 2의 중간(베지어 곡선도 마찬가지)값을 갖는다. 가령, 1의 첫번째 점이 (400, 50)이고 2의 첫번째 점은 (250, 150)이다. 스크롤이 1, 2 사이에 정확히 가운데 위치한다면 현재 점의 위치는 <code class="language-text">x: 325, y: 100</code>이된다.</p>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getCalculatedPath</span><span class="token punctuation">(</span><span class="token parameter">_heightRate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span> preIndex<span class="token punctuation">,</span> nextIndex<span class="token punctuation">,</span> calcRate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCalculatorInfo</span><span class="token punctuation">(</span>_heightRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> preD <span class="token operator">=</span> <span class="token function">getPathItem</span><span class="token punctuation">(</span>preIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> nextD <span class="token operator">=</span> <span class="token function">getPathItem</span><span class="token punctuation">(</span>nextIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> nextD<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">acc<span class="token punctuation">,</span> item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> nodeText <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> type<span class="token punctuation">}</span> <span class="token operator">=</span> item<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			nodeText <span class="token operator">+=</span> type <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span>ax<span class="token punctuation">,</span> y<span class="token punctuation">:</span>ay<span class="token punctuation">}</span> <span class="token operator">=</span> preD<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> <span class="token punctuation">{</span>x<span class="token punctuation">:</span>bx<span class="token punctuation">,</span> y<span class="token punctuation">:</span>by<span class="token punctuation">}</span> <span class="token operator">=</span> nextD<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">const</span> calcX <span class="token operator">=</span> ax <span class="token operator">+</span> <span class="token punctuation">(</span>bx <span class="token operator">-</span> ax<span class="token punctuation">)</span> <span class="token operator">*</span> calcRate<span class="token punctuation">;</span>
		<span class="token keyword">const</span> calcY <span class="token operator">=</span> ay <span class="token operator">+</span> <span class="token punctuation">(</span>by <span class="token operator">-</span> ay<span class="token punctuation">)</span> <span class="token operator">*</span> calcRate<span class="token punctuation">;</span>
		nodeText <span class="token operator">+=</span> calcX <span class="token operator">+</span> <span class="token string">' '</span> <span class="token operator">+</span> calcY<span class="token punctuation">;</span>
		acc<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>nodeText<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> acc<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>변화되는 글자색/배경색 구하기</h2>
<p>글자 모양만 변화하면 단조롭기 때문에 색상도 변하도록 만들었다. 글자색 뿐 아니라 배경색도 바뀌게 만들어 단조롭지 않도록 만들었다. 색상 구현은 d를 구하는것 보단 간단하다. 미리 정의해둔(PATH<em>STROKE</em>COLOR_LIST)를 이용해 d를 구할때와 비슷하게 색상값을 구한다. </p>
<blockquote>
<p>heightRate를 이용하여 preIndex, nextIndex를 구한다. d를 구할때와 로직이 동일하기 때문에 공통함수(getCalculatorInfo)를 만들었다.
백그라운드 색은 글자색에서 2번째 이후 색상이 적용되도록 한다.
각 색상(preColor, nextColor)을 가져와 각각의 R,G,B값을 분리한다. (ex. R:‘C0’, G:‘36’, B:‘2C’)
R, G, B 값은 계산하기 쉽도록 10진법으로 변환한다(원리는 점의 위치를 구할때와 동일). 계산이 완료되면 다시 16진법으로 변환한다.
계산된 R, G, B 값을 더해서 완성된 색상코드를 반환한다.</p>
</blockquote>
<div class="gatsby-highlight" data-language="javascript"><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">getCalculatedColor</span><span class="token punctuation">(</span><span class="token parameter">_heightRate<span class="token punctuation">,</span> isBg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>preIndex<span class="token punctuation">,</span> nextIndex<span class="token punctuation">,</span> calcRate<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getCalculatorInfo</span><span class="token punctuation">(</span>_heightRate<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> bgPadding <span class="token operator">=</span> isBg <span class="token operator">?</span> <span class="token number">2</span> <span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> preColor <span class="token operator">=</span> <span class="token constant">PATH_STROKE_COLOR_LIST</span><span class="token punctuation">[</span>preIndex <span class="token operator">+</span> bgPadding<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> nextColor <span class="token operator">=</span> <span class="token constant">PATH_STROKE_COLOR_LIST</span><span class="token punctuation">[</span>nextIndex <span class="token operator">+</span> bgPadding<span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> calcR <span class="token operator">=</span> <span class="token function">getCalculatedColorPart</span><span class="token punctuation">(</span>preColor<span class="token punctuation">,</span> nextColor<span class="token punctuation">,</span> calcRate<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> calcG <span class="token operator">=</span> <span class="token function">getCalculatedColorPart</span><span class="token punctuation">(</span>preColor<span class="token punctuation">,</span> nextColor<span class="token punctuation">,</span> calcRate<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> calcB <span class="token operator">=</span> <span class="token function">getCalculatedColorPart</span><span class="token punctuation">(</span>preColor<span class="token punctuation">,</span> nextColor<span class="token punctuation">,</span> calcRate<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token template-string"><span class="token string">`#</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>calcR<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>calcG<span class="token interpolation-punctuation punctuation">}</span></span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>calcB<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">getCalculatedColorPart</span><span class="token punctuation">(</span><span class="token parameter">preColor<span class="token punctuation">,</span> nextColor<span class="token punctuation">,</span> calcRate<span class="token punctuation">,</span> rgbIdx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> calcPrePart <span class="token operator">=</span> preColor<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>rgbIdx<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> calcNextPart <span class="token operator">=</span> nextColor<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span>rgbIdx<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> r1 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>calcPrePart<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 16진법을 10진법으로 변경</span>
	<span class="token keyword">const</span> r2 <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>calcNextPart<span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span>r1 <span class="token operator">+</span> <span class="token punctuation">(</span>r2 <span class="token operator">-</span> r1<span class="token punctuation">)</span> <span class="token operator">*</span> calcRate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10진법을 16진법으로 변경</span>
<span class="token punctuation">}</span></code></pre></div>
<h2>정리</h2>
<p>간략하게 구현한 과정을 살펴보았다. 전체 코드를 보려면 <a href="https://codepen.io/blueshw/pen/VwYqJxJ?editors=1010">codepen</a>에서 확인하자. 사실, 개인적으로 완성도는 아쉽다. 각 node를 디테일하게 컨트롤하지 못해서 숫자 사이의 변화가 어색하다. 점 배치를 다르게하면 개선할 여지도 있겠지만 node가 직선상으로만 이동하기 때문에 근본적으로 한계가 있다. 예를들어 3과 4와 같이 숫자 모양이 완전 다를때는 점들이 겹치고 교차하면서 자연스럽게 변하지 않는다. 그렇다고 각 점이 변하는 위치를 개별적으로 제어하는건 과해보인다. 아이디어가 떠오르면 개선해보자.  </p>
<h2>참고자료</h2>
<ul>
<li><a href="https://www.w3schools.com/graphics/svg_intro.asp">SVG Tutorial by W3Scools</a></li>
<li><a href="https://codepen.io/blueshw/pen/VwYqJxJ?editors=1010">codepen page</a></li>
<li><a href="https://codepen.io/anthonydugois/pen/mewdyZ">간단한 svg path 생성기 by codepen</a></li>
</ul></div><div class="sc-bdVaJa lfMCsp"></div><div font-size="15px" class="sc-bdVaJa sc-bwzfXH blog-post___StyledFlex-sc-13kot0y-1 jEaxjM"><div class="sc-bdVaJa sc-htpNat blog-post___StyledText-sc-13kot0y-2 dzpLHw"><a rel="prev" href="/2020/01/19/travel-with-unfriendly-people/">친하지 않은 사람들과 여행하기</a></div><div class="sc-bdVaJa sc-htpNat blog-post___StyledText2-sc-13kot0y-3 fPdXYp"><a rel="next" href="/2020/02/03/the-paper-menagerie/">단편소설의 매력, &lt;종이 동물원&gt; by 켄 리우 </a></div></div><div class="sc-bdVaJa iPvBDw"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4588610260101909" data-ad-slot="5306007932" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div id="disqus_thread"></div></div></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-50048807-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2020/01/27/svg-path-onscroll/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-cc53fd3bdbd2417dedc2.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-d850857698be14e9fc83.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-deaf56f39643f9094013.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-6ce54d8fe914bed959d8.js"],"component---src-pages-404-js":["/component---src-pages-404-js-ea93c3ecfc42a5e67458.js"],"component---src-pages-essay-js":["/component---src-pages-essay-js-d05ce4a210dc8eea6dcd.js"],"component---src-pages-index-js":["/component---src-pages-index-js-3f2c54386549a0ac494e.js"],"component---src-pages-interactive-web-js":["/component---src-pages-interactive-web-js-749128f7942efff67a33.js"],"component---src-pages-programming-js":["/component---src-pages-programming-js-800fe9fdcfbe11031440.js"],"component---src-pages-review-js":["/component---src-pages-review-js-ac31759125efbc968356.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-4929d96a7b62b34c9338.js"]};/*]]>*/</script><script src="/webpack-runtime-8d6dc37ecf34d7eac515.js" async=""></script><script src="/app-cc53fd3bdbd2417dedc2.js" async=""></script><script src="/commons-0e39c3c3197a6d8e950d.js" async=""></script><script src="/component---src-templates-blog-post-js-deaf56f39643f9094013.js" async=""></script><script src="/styles-fed54c9c709079326ac3.js" async=""></script></body></html>