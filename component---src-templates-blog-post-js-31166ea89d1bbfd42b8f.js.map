{"version":3,"sources":["webpack:///./src/components/adsense.js","webpack:///./src/components/tableOfContents.js","webpack:///./src/templates/blog-post.js"],"names":["Adsense","slot","format","useEffect","window","adsbygoogle","push","className","style","display","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","TableOfContents","items","currentHeaderUrl","as","mt","color","width","sx","position","top","maxWidth","marginRight","overflow","wordBreak","maxHeight","fontSize","mb","ml","dangerouslySetInnerHTML","__html","listStyle","marginLeft","marginBottom","lineHeight","textOverflow","whiteSpace","fontWeight","borderTop","BlogPostTemplate","data","pageContext","location","post","markdownRemark","tocItems","tableOfContents","previous","next","commentRef","useRef","useState","undefined","setCurrentHeaderUrl","body","document","appendScript","ADSENSE_SCRIPT_1","CODEPEN_SCRIPT","elem","current","UTTERANCES_SCRIPT","handleScroll","aboveHeaderUrl","currentOffsetY","pageYOffset","headerElements","querySelectorAll","elemTop","getBoundingClientRect","isLast","length","HEADER_OFFSET_Y","split","origin","href","addEventListener","removeEventListener","isTOCVisible","frontmatter","title","date","siteTitle","get","siteUrl","twitterUsername","postDescription","excerpt","structuredData","name","datePublished","Helmet","htmlAttributes","lang","meta","content","property","type","JSON","stringify","height","right","html","justifyContent","pt","mr","to","fields","slug","rel","textAlign","ref","defer","src","async","repo","theme","crossorigin","pageQuery","attrs","script","createElement","Object","keys","map","key","setAttribute","appendChild"],"mappings":"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","file":"component---src-templates-blog-post-js-31166ea89d1bbfd42b8f.js","sourcesContent":["import React, { useEffect } from 'react';\n\nexport default function Adsense({ slot, format = 'auto' }) {\n  useEffect(() => {\n    if (window.adsbygoogle) {\n      (window.adsbygoogle = window.adsbygoogle || []).push({});\n    }\n  }, []);\n  return (\n    <ins\n      className=\"adsbygoogle\"\n      style={{ display: 'block' }}\n      data-ad-client=\"ca-pub-4588610260101909\"\n      data-ad-slot={slot}\n      data-ad-format={format}\n      data-full-width-responsive={'true'}\n    />\n  );\n}\n","import React from 'react';\nimport { Box, Text } from 'rebass/styled-components';\n\nexport default function TableOfContents({ items, currentHeaderUrl }) {\n  return items ? (\n    <Box\n      as=\"nav\"\n      className=\"table-of-contents\"\n      mt=\"80px\"\n      color=\"grey01\"\n      width=\"calc((100vw - 720px) / 2 - 50px)\"\n      sx={{\n        display: 'none',\n        '@media screen and (min-width: 1200px)': {\n          position: `sticky`,\n          top: '70px',\n          display: 'block',\n          maxWidth: '360px',\n          marginRight: '20px',\n          overflow: 'auto',\n          wordBreak: 'break-word',\n          maxHeight: 'calc(100vh - 200px)',\n          fontSize: '14px',\n        },\n      }}\n    >\n      <Text as=\"h3\" mb=\"15px\" ml=\"20px\">\n        TABLE OF CONTENTS\n      </Text>\n      <Box\n        dangerouslySetInnerHTML={{ __html: items }}\n        sx={{\n          '& ul': {\n            listStyle: 'none',\n            marginLeft: '20px',\n            marginBottom: '0px',\n          },\n          '& ul > li': {\n            lineHeight: '1.5rem',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            whiteSpace: 'nowrap',\n          },\n          [`& ul > li a[href=\"${currentHeaderUrl}\"]`]: {\n            fontSize: '15px',\n            color: '#333333',\n            fontWeight: '600',\n          },\n        }}\n      />\n    </Box>\n  ) : null;\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link, graphql } from 'gatsby';\nimport get from 'lodash/get';\nimport Layout from '../components/layout';\nimport Adsense from '../components/adsense';\nimport TableOfContents from '../components/tableOfContents';\nimport { Box, Flex, Text } from 'rebass/styled-components';\n\nexport default function BlogPostTemplate({\n  data,\n  pageContext,\n  location,\n  post = data.markdownRemark,\n  tocItems = data.markdownRemark.tableOfContents,\n}) {\n  const { previous, next } = pageContext;\n  const commentRef = useRef(null);\n  const [currentHeaderUrl, setCurrentHeaderUrl] = useState(undefined);\n  useEffect(() => {\n    const body = document.body;\n    appendScript(body, ADSENSE_SCRIPT_1);\n    appendScript(body, CODEPEN_SCRIPT);\n    const elem = commentRef.current;\n    elem && appendScript(elem, UTTERANCES_SCRIPT);\n  }, []);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      let aboveHeaderUrl;\n      const currentOffsetY = window.pageYOffset;\n      const headerElements = document.querySelectorAll('.anchor-header');\n      for (const elem of headerElements) {\n        const { top } = elem.getBoundingClientRect();\n        const elemTop = top + currentOffsetY;\n        const isLast = elem === headerElements[headerElements.length - 1];\n        if (currentOffsetY < elemTop - HEADER_OFFSET_Y) {\n          aboveHeaderUrl &&\n            setCurrentHeaderUrl(aboveHeaderUrl.split(location.origin)[1]);\n          !aboveHeaderUrl && setCurrentHeaderUrl(undefined);\n          break;\n        } else {\n          isLast && setCurrentHeaderUrl(elem.href.split(location.origin)[1]);\n          !isLast && (aboveHeaderUrl = elem.href);\n        }\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  if (!post) {\n    return null;\n  }\n  const isTOCVisible = tocItems?.length > 0;\n  const { title, date } = post.frontmatter;\n  const siteTitle = get(data, 'site.siteMetadata.title');\n  const siteUrl = get(data, 'site.siteMetadata.siteUrl');\n  const twitterUsername = get(data, 'site.siteMetadata.twitterUsername');\n  const { excerpt: postDescription } = post;\n  const structuredData = {\n    '@context': 'http://schema.org',\n    '@type': 'Article',\n    name: title,\n    datePublished: date,\n  };\n\n  return (\n    <Layout location={location} data={data}>\n      <Helmet\n        htmlAttributes={{ lang: 'ko' }}\n        meta={[\n          { name: 'description', content: postDescription },\n          { property: 'og:type', content: 'website' },\n          { property: 'og:url', content: siteUrl },\n          { property: 'og:title', content: title },\n          { property: 'og:description', content: postDescription },\n          { name: 'twitter:card', content: 'summary' },\n          { name: 'twitter:creater', content: twitterUsername },\n          { name: 'twitter:title', content: title },\n          { name: 'twitter:description', content: postDescription },\n        ]}\n        title={`${title} | ${siteTitle}`}\n      >\n        {/* <link rel=\"canonical\" href={fields?.slug} /> */}\n        <script type=\"application/ld+json\">\n          {JSON.stringify(structuredData)}\n        </script>\n      </Helmet>\n      <Box sx={{ position: 'relative' }}>\n        {isTOCVisible && (\n          <Box\n            sx={{\n              position: 'absolute',\n              top: 0,\n              height: '100%',\n              right: 'calc((100vw - 720px) / 2 * (-1))',\n            }}\n          >\n            <TableOfContents\n              items={tocItems}\n              currentHeaderUrl={currentHeaderUrl}\n            />\n          </Box>\n        )}\n        <Box as=\"header\">\n          <Text fontSize=\"24px\" lineHeight=\"1.1\">\n            {title}\n          </Text>\n          <Text mb=\"70px\" mt=\"7px\" color=\"#bbb\">\n            {date}\n          </Text>\n          {/* 상단 광고 */}\n          <Box mb=\"40px\">\n            <Adsense slot=\"1331884154\" />\n          </Box>\n        </Box>\n        <Box\n          color=\"text\"\n          dangerouslySetInnerHTML={{ __html: post.html }}\n          css={{ lineHeight: '30px', position: 'static' }}\n        />\n        <Box as=\"footer\" mt=\"30px\">\n          <Flex\n            justifyContent=\"space-between\"\n            mb=\"30px\"\n            pt=\"30px\"\n            fontSize=\"15px\"\n            css={{\n              borderTop: '1px solid #eee',\n            }}\n          >\n            {previous && (\n              <Text lineHeight=\"1.8\" mr=\"5px\" css={{ maxWidth: 280 }}>\n                <Link to={previous.fields.slug} rel=\"prev\">\n                  {previous.frontmatter.title}\n                </Link>\n              </Text>\n            )}\n            {next && (\n              <Text\n                lineHeight=\"1.8\"\n                ml=\"5px\"\n                textAlign=\"right\"\n                css={{ maxWidth: 280 }}\n              >\n                <Link to={next.fields.slug} rel=\"next\">\n                  {next.frontmatter.title}\n                </Link>\n              </Text>\n            )}\n          </Flex>\n          {/* 하단 광고 */}\n          <Box mb=\"40px\">\n            <Adsense slot=\"5306007932\" />\n          </Box>\n          <Box ref={commentRef} />\n        </Box>\n      </Box>\n    </Layout>\n  );\n}\n\nconst ADSENSE_SCRIPT_1 = {\n  defer: true,\n  src: '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js',\n};\nconst CODEPEN_SCRIPT = {\n  defer: true,\n  src: 'https://static.codepen.io/assets/embed/ei.js',\n};\nconst UTTERANCES_SCRIPT = {\n  async: true,\n  src: 'https://utteranc.es/client.js',\n  repo: 'blueshw/gatsby-blog',\n  'issue-term': 'pathname',\n  theme: 'github-light',\n  crossorigin: 'anonymous',\n};\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        twitterUsername\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(truncate: true)\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n      }\n      # fields {\n      #   slug\n      # }\n    }\n  }\n`;\n\nfunction appendScript(elem, attrs) {\n  const script = document.createElement('script');\n  Object.keys(attrs).map((key) => {\n    script.setAttribute(key, attrs[key]);\n  });\n  elem.appendChild(script);\n}\n\nconst HEADER_OFFSET_Y = 100;\n"],"sourceRoot":""}