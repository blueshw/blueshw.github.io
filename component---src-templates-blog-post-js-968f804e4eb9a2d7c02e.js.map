{"version":3,"sources":["webpack:///./src/components/css/Post.module.scss","webpack:///./src/components/Layout.js","webpack:///./src/components/css/TableOfContents.module.scss","webpack:///./src/components/Adsense.js","webpack:///./src/components/TableOfContents.js","webpack:///./src/components/Post.js","webpack:///./src/templates/blog-post.js"],"names":["module","exports","Template","props","children","data","useState","showMenu","setShowMenu","showHeader","setShowHeader","siteTitle","get","prevScrollY","setPrevScrollY","useEffect","handleScroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","className","s","container","htmlAttributes","lang","title","name","content","onClick","onClickMenu","cn","contentWrapper","Adsense","slot","format","adsbygoogle","push","style","display","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","TableOfContents","items","currentHeaderUrl","replaceItems","useMemo","replace","isCurrent","contents","dangerouslySetInnerHTML","__html","Post","isTOCVisible","tocItems","date","post","previous","next","commentRef","tocWrapper","postWrapper","html","footer","otherPosts","other","to","fields","slug","rel","frontmatter","o","adsenseWrapper","ref","BlogPostTemplate","pageContext","location","markdownRemark","tableOfContents","useRef","undefined","setCurrentHeaderUrl","body","appendScript","ADSENSE_SCRIPT_1","CODEPEN_SCRIPT","elem","current","UTTERANCES_SCRIPT","aboveHeaderUrl","currentOffsetY","headerElements","querySelectorAll","elemTop","getBoundingClientRect","top","isLast","length","HEADER_OFFSET_Y","split","origin","href","siteUrl","twitterUsername","postDescription","excerpt","structuredData","datePublished","Layout","Helmet","meta","property","type","JSON","stringify","defer","src","async","repo","theme","crossorigin","pageQuery","attrs","script","createElement","Object","keys","map","key","setAttribute","appendChild"],"mappings":"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","file":"component---src-templates-blog-post-js-968f804e4eb9a2d7c02e.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Post-module--container--1mll9\",\"tocWrapper\":\"Post-module--tocWrapper--1gWfd\",\"title\":\"Post-module--title--1fK8i\",\"date\":\"Post-module--date--2qi65\",\"postWrapper\":\"Post-module--postWrapper--3aQyY\",\"footer\":\"Post-module--footer--38Isn\",\"otherPosts\":\"Post-module--otherPosts--NeYlq\",\"other\":\"Post-module--other--6X2Wd\",\"previous\":\"Post-module--previous--1dwfz\",\"next\":\"Post-module--next--1W5Be\",\"adsenseWrapper\":\"Post-module--adsenseWrapper--v91vE\"};","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport '../common/css/reset.scss';\nimport 'prismjs/themes/prism-tomorrow.css';\nimport '../common/css/common.scss';\nimport OutsideClick from './OutsideClick';\nimport { Helmet } from 'react-helmet';\nimport get from 'lodash/get';\nimport s from './css/Layout.module.scss';\nimport cn from 'classnames';\n\nexport default function Template(props) {\n  const { children, data } = props;\n  const [showMenu, setShowMenu] = useState(false);\n  const [showHeader, setShowHeader] = useState(true);\n  const siteTitle = get(data, 'site.siteMetadata.title');\n  const [prevScrollY, setPrevScrollY] = useState(0);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const curScrollY = window.pageYOffset;\n      if (curScrollY > 80 && prevScrollY < curScrollY && showHeader) {\n        setShowHeader(false);\n      } else if (\n        (curScrollY <= 80 || prevScrollY > curScrollY) &&\n        !showHeader\n      ) {\n        setShowHeader(true);\n      }\n      showMenu && setShowMenu(false);\n      setPrevScrollY(window.pageYOffset);\n    };\n    document.addEventListener('scroll', handleScroll);\n    return () => {\n      document.removeEventListener('scroll', handleScroll);\n    };\n  }, [prevScrollY]);\n  return (\n    <div className={s.container}>\n      <Helmet htmlAttributes={{ lang: 'ko' }} title={siteTitle}>\n        <meta\n          name=\"google-site-verification\"\n          content=\"R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA\"\n        />\n        <meta\n          name=\"naver-site-verification\"\n          content=\"23eddf7267bb527337927baff11fc26157637f30\"\n        />\n      </Helmet>\n      <OutsideClick onClick={() => setShowMenu(false)}>\n        <Header\n          {...props}\n          showMenu={showMenu}\n          showHeader={showHeader}\n          onClickMenu={() => setShowMenu(!showMenu)}\n        />\n      </OutsideClick>\n      <main className={cn(s.contentWrapper, 'contents')}>{children}</main>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TableOfContents-module--container--1CzWZ\",\"title\":\"TableOfContents-module--title--3W2jF\",\"contents\":\"TableOfContents-module--contents--1zMYy\",\"isCurrent\":\"TableOfContents-module--isCurrent--2HrVN\"};","import React, { useEffect } from 'react';\n\nexport default function Adsense({ slot, format = 'auto' }) {\n  useEffect(() => {\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }, []);\n  return (\n    <ins\n      className=\"adsbygoogle\"\n      style={{ display: 'block' }}\n      data-ad-client=\"ca-pub-4588610260101909\"\n      data-ad-slot={slot}\n      data-ad-format={format}\n      data-full-width-responsive={'true'}\n    />\n  );\n}\n","import React, { useMemo } from 'react';\nimport s from './css/TableOfContents.module.scss';\nimport cn from 'classnames';\n\nexport default function TableOfContents({ items, currentHeaderUrl }) {\n  const replaceItems = useMemo(() => {\n    if (currentHeaderUrl) {\n      return items.replace(\n        `\"${currentHeaderUrl}\"`,\n        `\"${currentHeaderUrl}\" class=\"${s.isCurrent}\"`\n      );\n    } else {\n      return items;\n    }\n  }, [currentHeaderUrl]);\n  return items ? (\n    <nav className={cn('table-of-contents', s.container)}>\n      <h3 className={s.title}>TABLE OF CONTENTS</h3>\n      <div\n        className={s.contents}\n        dangerouslySetInnerHTML={{ __html: replaceItems }}\n      />\n    </nav>\n  ) : null;\n}\n","import React from 'react';\nimport Adsense from '../components/Adsense';\nimport TableOfContents from '../components/TableOfContents';\nimport s from './css/Post.module.scss';\nimport cn from 'classnames';\nimport { Link } from 'gatsby';\n\nexport default function Post({\n  isTOCVisible,\n  tocItems,\n  currentHeaderUrl,\n  title,\n  date,\n  post,\n  previous,\n  next,\n  commentRef,\n}) {\n  return (\n    <div className={s.container}>\n      {isTOCVisible && (\n        <div className={s.tocWrapper}>\n          <TableOfContents\n            items={tocItems}\n            currentHeaderUrl={currentHeaderUrl}\n          />\n        </div>\n      )}\n      <header>\n        <div className={s.title}>{title}</div>\n        <div className={s.date}>{date}</div>\n      </header>\n      <div\n        className={s.postWrapper}\n        dangerouslySetInnerHTML={{ __html: post.html }}\n      />\n      <footer className={s.footer}>\n        <div className={s.otherPosts}>\n          {previous && (\n            <div className={cn(s.other, s.previous)}>\n              <Link to={previous.fields.slug} rel=\"prev\">\n                {previous.frontmatter.title}\n              </Link>\n            </div>\n          )}\n          {next && (\n            <div className={cn(s.other, o.next)}>\n              <Link to={next.fields.slug} rel=\"next\">\n                {next.frontmatter.title}\n              </Link>\n            </div>\n          )}\n        </div>\n        {/* 하단 광고 */}\n        <div className={s.adsenseWrapper}>\n          <Adsense slot=\"5306007932\" />\n        </div>\n        <div ref={commentRef} />\n      </footer>\n    </div>\n  );\n}\n","import React, { useEffect, useRef, useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { graphql } from 'gatsby';\nimport get from 'lodash/get';\nimport Layout from '../components/Layout';\nimport Post from '../components/Post';\n\nexport default function BlogPostTemplate({\n  data,\n  pageContext,\n  location,\n  post = data.markdownRemark,\n  tocItems = data.markdownRemark.tableOfContents,\n}) {\n  const { previous, next } = pageContext;\n  const commentRef = useRef(null);\n  const [currentHeaderUrl, setCurrentHeaderUrl] = useState(undefined);\n  useEffect(() => {\n    const body = document.body;\n    appendScript(body, ADSENSE_SCRIPT_1);\n    appendScript(body, CODEPEN_SCRIPT);\n    const elem = commentRef.current;\n    elem && appendScript(elem, UTTERANCES_SCRIPT);\n  }, []);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      let aboveHeaderUrl;\n      const currentOffsetY = window.pageYOffset;\n      const headerElements = document.querySelectorAll('.anchor-header');\n      for (const elem of headerElements) {\n        const { top } = elem.getBoundingClientRect();\n        const elemTop = top + currentOffsetY;\n        const isLast = elem === headerElements[headerElements.length - 1];\n        if (currentOffsetY < elemTop - HEADER_OFFSET_Y) {\n          aboveHeaderUrl &&\n            setCurrentHeaderUrl(aboveHeaderUrl.split(location.origin)[1]);\n          !aboveHeaderUrl && setCurrentHeaderUrl(undefined);\n          break;\n        } else {\n          isLast && setCurrentHeaderUrl(elem.href.split(location.origin)[1]);\n          !isLast && (aboveHeaderUrl = elem.href);\n        }\n      }\n    };\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n    };\n  }, []);\n\n  if (!post) {\n    return null;\n  }\n  const isTOCVisible = tocItems?.length > 0;\n  const { title, date } = post.frontmatter;\n  const siteTitle = get(data, 'site.siteMetadata.title');\n  const siteUrl = get(data, 'site.siteMetadata.siteUrl');\n  const twitterUsername = get(data, 'site.siteMetadata.twitterUsername');\n  const { excerpt: postDescription } = post;\n  const structuredData = {\n    '@context': 'http://schema.org',\n    '@type': 'Article',\n    name: title,\n    datePublished: date,\n  };\n\n  return (\n    <Layout location={location} data={data}>\n      <Helmet\n        htmlAttributes={{ lang: 'ko' }}\n        meta={[\n          { name: 'description', content: postDescription },\n          { property: 'og:type', content: 'website' },\n          { property: 'og:url', content: siteUrl },\n          { property: 'og:title', content: title },\n          { property: 'og:description', content: postDescription },\n          { name: 'twitter:card', content: 'summary' },\n          { name: 'twitter:creater', content: twitterUsername },\n          { name: 'twitter:title', content: title },\n          { name: 'twitter:description', content: postDescription },\n        ]}\n        title={`${title} | ${siteTitle}`}\n      >\n        {/* <link rel=\"canonical\" href={fields?.slug} /> */}\n        <script type=\"application/ld+json\">\n          {JSON.stringify(structuredData)}\n        </script>\n      </Helmet>\n      <Post\n        isTOCVisible={isTOCVisible}\n        tocItems={tocItems}\n        currentHeaderUrl={currentHeaderUrl}\n        title={title}\n        date={date}\n        post={post}\n        previous={previous}\n        next={next}\n        commentRef={commentRef}\n      />\n    </Layout>\n  );\n}\n\nconst ADSENSE_SCRIPT_1 = {\n  defer: true,\n  src: '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js',\n};\nconst CODEPEN_SCRIPT = {\n  defer: true,\n  src: 'https://static.codepen.io/assets/embed/ei.js',\n};\nconst UTTERANCES_SCRIPT = {\n  async: true,\n  src: 'https://utteranc.es/client.js',\n  repo: 'blueshw/gatsby-blog',\n  'issue-term': 'pathname',\n  theme: 'github-light',\n  crossorigin: 'anonymous',\n};\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        twitterUsername\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(truncate: true)\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n      }\n      # fields {\n      #   slug\n      # }\n    }\n  }\n`;\n\nfunction appendScript(elem, attrs) {\n  const script = document.createElement('script');\n  Object.keys(attrs).map((key) => {\n    script.setAttribute(key, attrs[key]);\n  });\n  elem.appendChild(script);\n}\n\nconst HEADER_OFFSET_Y = 100;\n"],"sourceRoot":""}