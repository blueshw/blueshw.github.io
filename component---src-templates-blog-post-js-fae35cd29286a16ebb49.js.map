{"version":3,"sources":["webpack:///./src/components/adsense.js","webpack:///./src/templates/blog-post.js"],"names":["Adsense","slot","format","useEffect","window","adsbygoogle","push","className","style","display","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","lineHeight","borderTop","maxWidth","BlogPostTemplate","data","pageContext","location","previous","next","commentRef","useRef","body","document","appendScript","ADSENSE_SCRIPT_1","CODEPEN_SCRIPT","elem","current","UTTERANCES_SCRIPT","post","markdownRemark","frontmatter","title","date","siteTitle","get","siteUrl","twitterUsername","postDescription","excerpt","structuredData","name","datePublished","Helmet","htmlAttributes","lang","meta","content","property","type","JSON","stringify","as","fontSize","mb","mt","color","dangerouslySetInnerHTML","__html","html","justifyContent","pt","mr","to","fields","slug","rel","ml","textAlign","ref","defer","src","async","repo","theme","crossorigin","pageQuery","attrs","script","createElement","Object","keys","map","key","setAttribute","appendChild"],"mappings":"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","file":"component---src-templates-blog-post-js-fae35cd29286a16ebb49.js","sourcesContent":["import React, { useEffect } from 'react';\n\nexport default function Adsense({ slot, format = 'auto' }) {\n  useEffect(() => {\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\n  }, []);\n  return (\n    <ins\n      className=\"adsbygoogle\"\n      style={{ display: 'block' }}\n      data-ad-client=\"ca-pub-4588610260101909\"\n      data-ad-slot={slot}\n      data-ad-format={format}\n      data-full-width-responsive={'true'}\n    />\n  );\n}\n","import React, { useEffect, useRef } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Link, graphql } from 'gatsby';\nimport get from 'lodash/get';\nimport Layout from '../components/layout';\nimport Adsense from '../components/adsense';\nimport { Box, Flex, Text } from 'rebass';\n\nexport default function BlogPostTemplate({ data, pageContext, location }) {\n  const { previous, next } = pageContext;\n  const commentRef = useRef(null);\n\n  useEffect(() => {\n    const body = document.body;\n    appendScript(body, ADSENSE_SCRIPT_1);\n    appendScript(body, CODEPEN_SCRIPT);\n    const elem = commentRef.current;\n    elem && appendScript(elem, UTTERANCES_SCRIPT);\n  }, []);\n\n  const post = data.markdownRemark;\n  if (!post) {\n    return null;\n  }\n  const { title, date } = post.frontmatter;\n  const siteTitle = get(data, 'site.siteMetadata.title');\n  const siteUrl = get(data, 'site.siteMetadata.siteUrl');\n  const twitterUsername = get(data, 'site.siteMetadata.twitterUsername');\n  const { excerpt: postDescription } = post;\n  const structuredData = {\n    '@context': 'http://schema.org',\n    '@type': 'Article',\n    name: title,\n    datePublished: date,\n  };\n\n  return (\n    <Layout location={location} data={data}>\n      <Helmet\n        htmlAttributes={{ lang: 'ko' }}\n        meta={[\n          { name: 'description', content: postDescription },\n          { property: 'og:type', content: 'website' },\n          { property: 'og:url', content: siteUrl },\n          { property: 'og:title', content: title },\n          { property: 'og:description', content: postDescription },\n          { name: 'twitter:card', content: 'summary' },\n          { name: 'twitter:creater', content: twitterUsername },\n          { name: 'twitter:title', content: title },\n          { name: 'twitter:description', content: postDescription },\n        ]}\n        title={`${title} | ${siteTitle}`}\n      >\n        {/* <link rel=\"canonical\" href={fields?.slug} /> */}\n        <script type=\"application/ld+json\">\n          {JSON.stringify(structuredData)}\n        </script>\n      </Helmet>\n      <Box as=\"header\">\n        <Text fontSize=\"24px\" lineHeight=\"1.1\">\n          {title}\n        </Text>\n        <Text mb=\"70px\" mt=\"7px\" color=\"#bbb\">\n          {date}\n        </Text>\n        {/* 상단 광고 */}\n        <Box mb=\"40px\">\n          <Adsense slot=\"1331884154\" />\n        </Box>\n      </Box>\n      <Box\n        color=\"text\"\n        dangerouslySetInnerHTML={{ __html: post.html }}\n        css={{ lineHeight: '30px' }}\n      />\n      <Box as=\"footer\" mt=\"30px\">\n        <Flex\n          justifyContent=\"space-between\"\n          mb=\"30px\"\n          pt=\"30px\"\n          fontSize=\"15px\"\n          css={{\n            borderTop: '1px solid #eee',\n          }}\n        >\n          {previous && (\n            <Text lineHeight=\"1.8\" mr=\"5px\" css={{ maxWidth: 280 }}>\n              <Link to={previous.fields.slug} rel=\"prev\">\n                {previous.frontmatter.title}\n              </Link>\n            </Text>\n          )}\n          {next && (\n            <Text\n              lineHeight=\"1.8\"\n              ml=\"5px\"\n              textAlign=\"right\"\n              css={{ maxWidth: 280 }}\n            >\n              <Link to={next.fields.slug} rel=\"next\">\n                {next.frontmatter.title}\n              </Link>\n            </Text>\n          )}\n        </Flex>\n        {/* 하단 광고 */}\n        <Box mb=\"40px\">\n          <Adsense slot=\"5306007932\" />\n        </Box>\n        <Box ref={commentRef} />\n      </Box>\n    </Layout>\n  );\n}\n\nconst ADSENSE_SCRIPT_1 = {\n  defer: true,\n  src: '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js',\n};\nconst CODEPEN_SCRIPT = {\n  defer: true,\n  src: 'https://static.codepen.io/assets/embed/ei.js',\n};\nconst UTTERANCES_SCRIPT = {\n  async: true,\n  src: 'https://utteranc.es/client.js',\n  repo: 'blueshw/gatsby-blog',\n  'issue-term': 'pathname',\n  theme: 'github-light',\n  crossorigin: 'anonymous',\n};\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n        twitterUsername\n      }\n    }\n    markdownRemark(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(truncate: true)\n      html\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n      }\n      # fields {\n      #   slug\n      # }\n    }\n  }\n`;\n\nfunction appendScript(elem, attrs) {\n  const script = document.createElement('script');\n  Object.keys(attrs).map((key) => {\n    script.setAttribute(key, attrs[key]);\n  });\n  elem.appendChild(script);\n}\n"],"sourceRoot":""}