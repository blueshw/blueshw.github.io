{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019/07/28/advanced-flexbox/","result":{"data":{"site":{"siteMetadata":{"title":"bono's blog","author":"bono","twitterUsername":"@blueshw"}},"markdownRemark":{"id":"069db1f5-20e8-58b9-bb55-308e03bed179","excerpt":"그 동안 로 작업하면서 배운것들에 대해 알아보자.  flexbox의 기초 flexbox의 기초를 다룬 좋은 글이 많기 때문에 여기서 다시 다룰 필요는 없을것 같다. 만약 flexbox에 대해 잘모르거나 잘 생각나지 않는분들이라면 아래 링크를 한번씩 …","html":"<p>그 동안 <code class=\"language-text\">flexbox</code>로 작업하면서 배운것들에 대해 알아보자. </p>\n<h2>flexbox의 기초</h2>\n<p>flexbox의 기초를 다룬 좋은 글이 많기 때문에 여기서 다시 다룰 필요는 없을것 같다. 만약 flexbox에 대해 잘모르거나 잘 생각나지 않는분들이라면 아래 링크를 한번씩 읽어보기 바란다.</p>\n<blockquote>\n<ul>\n<li><a href=\"https://developer.mozilla.org/ko/docs/Web/CSS/CSS_Flexible_Box_Layout/Flexbox%EC%9D%98_%EA%B8%B0%EB%B3%B8_%EA%B0%9C%EB%85%90\">Flexbox in MDN Web Doc</a></li>\n<li><a href=\"https://css-tricks.com/snippets/css/a-guide-to-flexbox/\">A guide to flexbox in css-tricks</a></li>\n<li><a href=\"https://heropy.blog/2018/11/24/css-flexible-box/\">CSS Flex 완벽 가이드 in Heropy tech 블로그</a></li>\n<li><a href=\"https://d2.naver.com/helloworld/8540176\">flexbox로 만들 수 있는 10가지 레이아웃 in 네이버 d2 블로그</a></li>\n</ul>\n</blockquote>\n<h2>flexbox in IE</h2>\n<p>웹 개발자라면 아마도, IE 대응은 웬만하면 피하고 싶을것이다. 전 세계적으로 IE 사용은 점점 없어지는 추세지만, 한국에서는 여전히 20% 정도가 사용중이다. 업데이트가 중지된지도 오래됐지만(더이상의 보안 업데이트가 없다!!), 많은 관공서 홈페이지가 여전히 IE에서만 동작하기 때문에 한국에서는 아예 배재할 수 없는게 현실이다.</p>\n<p>그런데, 예상밖으로(?) IE에도 Flexbox를 지원한다. IE10에서는 일부 <a href=\"https://www.w3.org/TR/2012/WD-css3-flexbox-20120322/\">스펙</a>만 지원하고 IE11에서는 대부분 지원한다. 그렇다고 기뻐하지는 말자. 그 악명높은 <code class=\"language-text\">IE</code>다. <code class=\"language-text\">flexbox로 IE 대응</code>을 해본 사람만 알겠지만, 셀 수 없이 많은 버그가 당신을 괴롭힐 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.54917387883556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACu0lEQVQ4y4WQ3W/bdBSG/V/xDyAuBmhCldAEA4kJ7WJwyyU3SOMCVV1b1rSlXExjKxM0o5R0a1mTxl2+mibOl2M7aRI7dpImWQvtOk27YHo4tlukSpO4ePS+5xz5/R0fJa+ukUuuUkyv07UyIWaKZ26ekwM94PmwfkFHdpHjQS2oRz2NsVfhaGByYFdQmpUkVmk7wPf7VTXA9516Kgw6Cz4PHTsaRxLi+4FXYOzuySMFWSaL0jFyOGaWjpHBFtr6U6lzDNoFRk6R05ERfHg6NEI/qgcaeuM//2IcohyW7jKUXxg5FaEq68sG7Swv2+ucjNv81asKZQ49jUO3xFFAOdjwyCvLLNRDN0TptQq4smHP3MCztui3trF3fyU/9zW2toqrx/HqabxGHrOk4sn2vm/oaWw9QUdPYZWTmFoCp1JA6T59SHeww+beO/yYv8JS8RqzuWtcj33GZGYCqxPlea9I2ZrkZJimvXmHbuIXXj1r83JgcdLb5bRf5IX4vtxSubn8Fp+ufcFHD9/j/eiHXFq5wgfRj5n44ypvr0zw7Z/fEInflPklpjYuc+Puu3z14AYPUgvc21lg+vEnLG59yVLyNp/HrqNslBe4lfqOSG6a+ewUkewk93fn2TPWWZR6VbtDTo+REXZqv5MxYqSNNdTqCmotilqOkhTUygrp2m9yw0aRwb4mhNpvirY0DoKexnC/xKglB3f0EPucOn+7Fv8c93h93A/wvaKrS9TTyxiZZczsz9RTP9HMLkvvntR+/z6WzNxqjG5tHfcM33v6I4aNJxdQqk9uUd+aphmfRhc1EzM0t2cwErP4s4Z6Gyc1h52K4GQXhYUL2Jl5OsK5KqXNKQmaoRGfwZLDWmokwEzO0ZLD29kfcHJL2G/AeQNKTcL0xPfUtmbR47OB+r2aeD+0k1kMA8+C/49/AfXaYdhfQspeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"img0\"\n        title=\"img0\"\n        src=\"/static/65a90d61964ca0d95593f8ae74acc09f/b9e4f/0.png\"\n        srcset=\"/static/65a90d61964ca0d95593f8ae74acc09f/cf440/0.png 148w,\n/static/65a90d61964ca0d95593f8ae74acc09f/d2d38/0.png 295w,\n/static/65a90d61964ca0d95593f8ae74acc09f/b9e4f/0.png 590w,\n/static/65a90d61964ca0d95593f8ae74acc09f/f9b6a/0.png 885w,\n/static/65a90d61964ca0d95593f8ae74acc09f/2d849/0.png 1180w,\n/static/65a90d61964ca0d95593f8ae74acc09f/e3e30/0.png 1271w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n    </span></p>\n<p align=\"center\">\n<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://caniuse.com/#feat=details\">flexbox 브라우저 호환성 확인하기</a>\n</p>\n<p><code class=\"language-text\">caniuse</code>의 flexbox 항목이다. 아래 <code class=\"language-text\">Notes</code>의 4번 항목(IE10, IE11에 해당)을 보자. </p>\n<blockquote>\n<p>Partial support is due to large amount of bugs present\n엄청나게 많은 버그 때문에 일부만 지원한다</p>\n</blockquote>\n<p>얼마나 많은 버그가 있길래 저렇게 써놨을까… 심지어 flexbox의 버그(대부분 IE 버그)를 모아놓은 <a href=\"https://github.com/philipwalton/flexbugs\">깃헙 프로젝트(flexbugs)</a>도 있다. 다양한 버그들이 존재하지만, 대표적으로 기본값이 다른 버그가 있다. flex를 사용할때는 축약형을 많이 쓰는데, <code class=\"language-text\">flex: 1;</code>을 풀어쓰면 다음과 같다. => <code class=\"language-text\">flex: 1 1 auto</code>(이게 뭘 의미하는지 잘 모르겠다면 맨 위 기초 포스팅을 다시 읽어보자)</p>\n<p>각 축약형은 다음과 같이 쓰인다. </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 아무것도 안쓰면;\n=&gt; flex: 0 1 auto;\n\n# flex: 1; \n=&gt; flex: 1 1 0%;\n\n# flex: auto;\n=&gt; flex: 1 1 auto;\n\n# flex: initial;\n=&gt; flex: 0 1 auto</code></pre></div>\n<p>그런데, IE에서는 조금 다르다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># 아무것도 안쓰면;\n=&gt; flex: 0 0 auto;\n\n# flex: 1; \n=&gt; flex: 1 0 0px;\n\n# flex: auto;\n=&gt; flex: 1 0 auto;\n\n# flex: initial;\n=&gt; flex: 0 0 auto</code></pre></div>\n<p>주로 <code class=\"language-text\">shrink</code> 부분(축양형에서 두번째 값)이 1과 0으로 다르다. <code class=\"language-text\">flex item에 아무것도 입력하지 않았을때</code>를 생각해보자. 아무것도 입력하지 않았기 때문에 <code class=\"language-text\">flex: 0 1 auto;</code>가 적용될것이다. 이는 스크린이 커져도 확장하지 않고(0), 스크린이 작아지면 줄어들고(1), 컨텐츠의 크기로 너비(또는 높이)를 결정한다는 뜻이다. 아래 코드를 살펴보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>style</span><span class=\"token punctuation\">></span></span><span class=\"token style\"><span class=\"token language-css\">\n  <span class=\"token selector\">.container</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">.box</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">text-align</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 50px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 20px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background</span><span class=\"token punctuation\">:</span> coral<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 4px solid #333333<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>style</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    Lorem ipsum dolor sit amet consectetur adipisicing elit.\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Lorem ipsum dolor<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>box<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>333<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>이 코드는 정상적인 경우와 IE10에서 각각 아래처럼 동작한다.</p>\n<h4>정상적인 상황</h4>\n<p><img src=\"/e4c6b3a9cc7c4cee6b0f202307276187/1.gif\" alt=\"img1\"></p>\n<h4>IE10</h4>\n<p><img src=\"/11d4b5d7d076a58be50efc0cf869c007/2.gif\" alt=\"img2\"></p>\n<p>이 버그 외에도 flexbugs 프로젝트를 보면 너무도 많은 버그들이 존재함을 알 수 있다. 그러니 괜히 어설프게 flexbox로 IE를 지원하려고 했다가는 오히려 프로젝트를 다시 만들어야하는(flexbox가 아닌 방식으로) 상황이 생길 수 있으니 주의해야한다.</p>\n<h2>ilnine-flex</h2>\n<p>일을 하면서 <code class=\"language-text\">display: inline-flex</code>를 사용한적은 거의 없다. 왜냐하면 굳이 inline-flex가 아니더라도 <code class=\"language-text\">display: flex</code> 하나면 웬만한 레이아웃은 충분히 만들수 있기 때문이다. inline-flex는 이름에서도 알 수 있듯이 flex 를 inline 요소로 다루겠다는 의미다. 주의할점은, inline으로 다루는 대상이 flex container지 item이 아니다. 상식적으로 inline(inline-block에 더 가깝다)이라는 속성이 block 요소를 수평으로 쌓기 위함인데, flex item은 direction으로 수평 쌓기가 가능하므로 inline 속성이 굳이 필요없다. </p>\n<p>그럼, flex와 inline-flex가 다르게 동작하는 몇가지 상황을 살펴보자. inline 속성만 잘 이해하고 있다면 이해하기 쉬울것이다.</p>\n<div class=\"frame-wrap\">\n<iframe src=\"https://codesandbox.io/embed/inline-flex-wbo3r?fontsize=14&view=preview\" title=\"inline-flex\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n</div>\n<p align=\"center\">[가급적 PC에서 확인하자]</p>\n<p>순서대로 하나씩 설명해보면,</p>\n<h3>두개의 컨테이너</h3>\n<p>block 속성은 스크린 전체 너비를 차지하고, inline 속성은 자기 자신의 크기에 따라 너비가 결정된다. 그래서 flex일때는 수직으로 쌓이고, inline-flex일때는 수평으로 충분하 공간이 있으면 수평으로 쌓인다(스크린이 충분히 작으면 수직으로 쌓이는것처럼 보일수도 있다).</p>\n<h3>item에 기본값 적용</h3>\n<p>flex item에 아무것도 입력하지 않았을때는 <code class=\"language-text\">flex: 0 1 auto</code>이므로, item 자신의 너비를 가진다. shrink가 <code class=\"language-text\">1</code>이지만 basis가 <code class=\"language-text\">auto</code>라서 사실상 스크린 사이즈가 줄어도 item이 줄어들지 않는다(flex-grow와 flex-shrink는 basis를 제외한 여백의 늘어남과 줄어듬을 의미한다).</p>\n<h3>item에 “flex: 1” 적용</h3>\n<p><code class=\"language-text\">flex: 1</code>은 <code class=\"language-text\">flex: 1 0 0%</code>와 같다. 즉, basis가 0이고 확장하는 성격을 가진다. 그래서 flex에서는 각 item이 동일한 너비를 가진다. 그런데, inline-flex에서는 item들이 동일한 너비를 가지긴 하는데, 전체 사이즈가 좀 애매하다. 이유는 inline-flex 컨테이너의 사이즈가 각 item 너비의 합으로 결정되기 때문이다. 자세히 살펴보면 위의 <code class=\"language-text\">item에 기본값 적용</code>과 같은 너비를 가짐을 알 수 있다. </p>\n<h3>flex-basis vs width</h3>\n<p>두개의 차이가 뭘까? flex-basis가 컨텐츠의 너비를 결정하는것은 아니다. 너비는 width가 결정한다. 단, flex-basis는 다른 flex 속성(flex-grow, flex-shrink)을 결정할때 기본(basis)가 되는 값이다. 스크린 너비 전체를 차지하는 flex의 경우에는 대개의 경우 width와 flex-basis가 동일한 결과를 보여줄것이다. 하지만, inline-flex의 경우에는 좀 다르다. flex-basis에 특정 값(ex. 200px)을 넣어준것과 width에 특정값을 넣어준것과 차이를 보인다. flex-basis에 특정 값을 넣으면 컨테이너 너비는 변함없지마 item의 총합이 컨테이너보다 길어져 <code class=\"language-text\">scroll</code>이 발생한다. width에 특정 값이 들어갔을때는 컨테이너 너비에 그대로 반영되기 때문에 width의 값만큼 컨테이너도 늘어난다.</p>\n<h2>flexbox로 응용할수 있는 레이아웃</h2>\n<p>flexbox를 활용하면 이전 방식으로 만들기 어려웠던 다양한 레이아웃을 훨씬 쉽게(?) 만들 수 있다.</p>\n<h3>반응형에 최적화된 컨텐츠 리스트</h3>\n<div class=\"frame-wrap\">\n<iframe src=\"https://codesandbox.io/embed/flex-content-row-qdedu?fontsize=14\" title=\"flex-content-row\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n</div>\n<p align=\"center\">[반응형 확인을 위해, PC에서 새창을 열어 확인하자]</p>\n<p>컨텐츠 서비스에서 많이 보이는 형태의 레이아웃이다. 컨텐츠 리스트나 컨텐츠의 에피소드 리스트에서 주로 쓰인다. 보통은 컨텐츠가 하나가 한줄을 차지하지만, media query를 사용해 800px이 넘어가면 두 컨텐츠가 한줄을 차지하도록 구성해보았다.</p>\n<h3>넷플릭스처럼 가로로 콘텐츠가 나열된 레이아웃</h3>\n<div class=\"frame-wrap\">\n<iframe src=\"https://codesandbox.io/embed/flexbox-test-o8qxr?fontsize=14\" title=\"netflix-flexbox\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n</div>\n<p align=\"center\">[hover가 동작해야하므로, PC에서 확인하자]</p>\n<p>넷플릭스를 보면 가로로 길게 컨텐츠가 나열되어 있고, 각 컨텐츠에 마우스가 <code class=\"language-text\">hover</code>되면 컨텐츠가 확대된다. 이는 flex-grow의 비율로 어렵지않게 구현할수 있다. </p>\n<h3>가로로 스크롤되는 vertical masonry 레이아웃</h3>\n<div class=\"frame-wrap\">\n<iframe src=\"https://codesandbox.io/embed/flamboyant-franklin-phv46?fontsize=14\" title=\"flamboyant-franklin-phv46\" allow=\"geolocation; microphone; camera; midi; vr; accelerometer; gyroscope; payment; ambient-light-sensor; encrypted-media\" style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\" sandbox=\"allow-modals allow-forms allow-popups allow-scripts allow-same-origin\"></iframe>\n</div>\n<p><a href=\"https://www.pinterest.co.kr/\">Pinterest</a>같은 서비스에서 흔히 보이는 형태의 레이아웃이다. 가로로 꽉차지 않도록 <code class=\"language-text\">inline-flex</code>를 사용했다. 각 컨텐츠의 높이가 다른 경우 유용하다. 하지만, 실제 Pinterest 같은 경우에는 flex를 사용하지 않는다. 그 이유는 API 통신을 통해 동적으로 가져온 컨텐츠를 이미 배치된 컨텐츠 바로 아래에 붙여야 하는데, 영역의 끝이 들쭉날쭉하기 때문에 컨텐츠마다 개별적인 배치가 필요하다. 그래서 <code class=\"language-text\">position: absolute</code>를 이용한다. 하지만 간단한 레이아웃이라면 예제처럼 flexbox로 구현해도 문제없다. </p>\n<h2>결론</h2>\n<p>flexbox 기초 자료를 보면 알겠지만, 매우 직관적이고 러닝커브가 낮다. 그래서 누구나 쉽고 빠르게 사용할 수 있다. 하지만, IE를 대응해야 한다면 얘기가 달라진다. 알 수 없는 이유로 레이아웃이 깨지는 경우를 수없이 목격할 것이고 이내 지쳐버릴지도 모른다. 그러니 IE가 반드시 필요하다면 flexbox 도입은 다시 생각해보자. flexbox는 심플하고 직관적이지만 매우 유연하다. 그래서 아이디어만 있다면 그 가능성은 무궁무진하다. </p>","frontmatter":{"title":"[CSS] flexbox를 사용하며 배운것들 (중급)","date":"July 28, 2019"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019/07/28/advanced-flexbox/","previous":{"fields":{"slug":"/2019/07/21/netflix-for-learning-english/"},"frontmatter":{"title":"난 구독 서비스를 싫어한다. 그런데, 넷플릭스로 영어 공부를?","tags":["netflix","넷플릭스","영어","영어공부","english","쉐도잉","shadowing","구독","subscription"]}},"next":{"fields":{"slug":"/2019/08/03/404-page-not-found/"},"frontmatter":{"title":"[interactive web] 404 페이지를 만들어봤다","tags":["javascript","css","page not found","interactive design","인터랙티브웹","design","3D","text-shadow"]}}}}}